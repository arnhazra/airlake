"use strict";(self.webpackChunkview=self.webpackChunkview||[]).push([[69],{3702:function(e,n){var t;!function(e){e.tokenContractAddress="0x9d46e816e10c6353Fcf7381343b053117641d472",e.vendorContractAddress="0xeF98846BF1e7F5f8c380F481701763650021A5d4"}(t||(t={})),n.Z=t},7568:function(e,n,t){t.d(n,{C:function(){return a}});var a=[{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amountOfETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOfTokens",type:"uint256"}],name:"BuyTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buyTokens",outputs:[{internalType:"uint256",name:"tokenAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenAmountToSell",type:"uint256"}],name:"sellTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokensPerETH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferToken",outputs:[],stateMutability:"nonpayable",type:"function"}]},7069:function(e,n,t){t.r(n);var a=t(4165),s=t(5861),r=t(9439),i=t(7313),o=t(5491),c=t(6753),u=t(5099),l=t(7568),d=t(5372),p=t.n(d),m=t(6573),y=t(3702),f=t(4537),x=t(6056),h=t(6417),b=new(p())(p().givenProvider);n.default=function(){var e=(0,i.useState)(""),n=(0,r.Z)(e,2),t=n[0],d=n[1],p=(0,i.useState)(0),v=(0,r.Z)(p,2),k=v[0],T=v[1],j=(0,i.useState)(""),w=(0,r.Z)(j,2),Z=w[0],A=w[1],N=(0,i.useState)(1),g=(0,r.Z)(N,2),C=g[0],S=g[1],M=(0,i.useState)(!1),F=(0,r.Z)(M,2),O=F[0],E=F[1];(0,i.useEffect)((function(){T(Number(t)/1e4)}),[t]);var B=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"undefined"==typeof window||"undefined"==typeof window.ethereum){e.next=14;break}return e.prev=2,e.next=5,window.ethereum.request({method:"eth_requestAccounts"});case 5:n=e.sent,A(n[0]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),x.Am.error("Unable to connect to metamask");case 12:e.next=15;break;case 14:x.Am.error("Please install metamask");case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),x.Am.error("Please install metamask");case 20:case"end":return e.stop()}}),e,null,[[0,17],[2,9]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,s,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(2),n=new b.eth.Contract(l.C,y.Z.vendorContractAddress),e.next=5,n.methods.buyTokens().send({from:Z,value:b.utils.toWei(k.toString(),"ether")});case 5:return s=e.sent,r={fromAddress:s.from||"0x",transactionType:"Buy",lstAmount:t,ethAmount:k,txHash:s.transactionHash},e.next=9,m.Z.post(f.Z.createTxEndpoint,r);case 9:S(3),x.Am.success("You have successfully bought LST tokens!"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),E(!0),S(3),x.Am.error("Error purchasing LST tokens");case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)("div",{className:"box",children:[(0,h.jsxs)(u.Z,{condition:""!==Z,children:[(0,h.jsxs)(u.Z,{condition:1===C,children:[(0,h.jsx)("p",{className:"branding",children:"Buy LST"}),(0,h.jsx)(o.Z,{controlId:"floatingAmount",label:"Amount of tokens",children:(0,h.jsx)(c.Z.Control,{autoFocus:!0,type:"email",placeholder:"Amount of tokens",onChange:function(e){return d(e.target.value)},required:!0})}),(0,h.jsxs)("p",{id:"alert",children:["ETH equivalent: ",k]}),(0,h.jsxs)("button",{className:"btn btnbox",onClick:H,children:["Buy",(0,h.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]}),(0,h.jsxs)(u.Z,{condition:2===C,children:[(0,h.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,h.jsxs)("div",{className:"text-center mt-4",children:[(0,h.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin text-center fa-6x"}),(0,h.jsx)("p",{className:"lead text-center mt-4",children:"Processing"})]})]}),(0,h.jsxs)(u.Z,{condition:3===C,children:[(0,h.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,h.jsx)(u.Z,{condition:!O,children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("i",{className:"fa-solid fa-circle-check fa-6x"}),(0,h.jsx)("p",{className:"lead text-center mt-4",children:"Success"})]})}),(0,h.jsx)(u.Z,{condition:O,children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("i",{className:"fa-solid fa-circle-xmark fa-6x"}),(0,h.jsx)("p",{className:"lead text-center mt-4",children:"Failed"})]})})]})]}),(0,h.jsxs)(u.Z,{condition:""===Z,children:[(0,h.jsx)("p",{className:"branding",children:"Connect Wallet"}),(0,h.jsxs)("button",{className:"btn btnbox",onClick:B,children:["Connect to Metamask",(0,h.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]})})}}}]);