"use strict";(self.webpackChunkview=self.webpackChunkview||[]).push([[710],{9710:function(e,n,r){r.r(n),r.d(n,{default:function(){return L}});var t=r(7022),s=r(2591),a=r(2791),i=r(8300),c=r(2388),d=r(2426),o=r.n(d),l=r(6796),h=r(4165),u=r(1413),x=r(5861),j=r(9439),m=r(1912),f=r(7689),p=r(3402),v=function(){var e=(0,a.useState)({transactions:[],isLoaded:!1}),n=(0,j.Z)(e,2),r=n[0],t=n[1],s=(0,f.s0)();return(0,a.useEffect)((function(){(0,x.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.Z.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),e.next=4,m.Z.post(l.Z.walletTransactionEndpoint);case 4:n=e.sent,t((0,u.Z)((0,u.Z)({},r),{},{transactions:n.data.transactions,isLoaded:!0})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),401===e.t0.response.status?(localStorage.removeItem("accessToken"),s("/")):(t((0,u.Z)((0,u.Z)({},r),{},{isLoaded:!0})),p.Am.error("Something went wrong"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),r},Z=function(){var e=(0,a.useState)({inr:0,usd:0,eur:0,isLoaded:!1}),n=(0,j.Z)(e,2),r=n[0],t=n[1],s=(0,f.s0)(),i=function(){var e=(0,x.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.Z.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),e.next=4,m.Z.post(l.Z.walletLivePriceEndpoint);case 4:n=e.sent,t({inr:n.data.ethereum.inr,usd:n.data.ethereum.usd,eur:n.data.ethereum.eur,isLoaded:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),401===e.t0.response.status?(localStorage.removeItem("accessToken"),s("/")):(t({inr:0,usd:0,eur:0,isLoaded:!0}),p.Am.error("Something went wrong"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){i();var e=setInterval((function(){return i()}),45e3);return function(){return clearInterval(e)}}),[]),r},w=r(1087),S=r(3324),g=r(184),L=function(){var e=v(),n=Z(),r=e.transactions.map((function(e){return(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{children:[e.transactionType," LST"]}),(0,g.jsxs)("td",{children:[e.lstAmount," LST"]}),(0,g.jsxs)("td",{children:[e.ethAmount," ETH"]}),(0,g.jsx)("td",{children:o()(e.date).format("MMM, Do YYYY, h:mm a")}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"".concat(l.Z.etherScanEndpoint,"/").concat(e.txHash),target:"_blank",rel:"noopener noreferrer",children:"View on EtherScan"})})]},e._id)}));return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(c.Z,{condition:e.isLoaded&&n.isLoaded,children:(0,g.jsxs)(t.Z,{children:[(0,g.jsxs)("div",{className:"jumbotron mt-4 pl-5",children:[(0,g.jsx)("p",{className:"display-4",children:"Wallet"}),(0,g.jsx)("div",{children:(0,g.jsxs)(s.Z,{responsive:!0,hover:!0,variant:"light",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Crypto"}),(0,g.jsx)("th",{children:"INR"}),(0,g.jsx)("th",{children:"USD"}),(0,g.jsx)("th",{children:"EUR"})]})}),(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"ETH"}),(0,g.jsx)("td",{children:n.inr}),(0,g.jsx)("td",{children:n.usd}),(0,g.jsx)("td",{children:n.eur})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"LST"}),(0,g.jsxs)("td",{children:[" ",(n.inr/1e4).toFixed(3)]}),(0,g.jsx)("td",{children:(n.usd/1e4).toFixed(3)}),(0,g.jsx)("td",{children:(n.eur/1e4).toFixed(3)})]})]})]})},"liveprice"),(0,g.jsxs)("div",{className:"info",children:[(0,g.jsx)("p",{className:"lead",children:S.Z.Info}),(0,g.jsx)("p",{className:"lead",children:S.Z.Warning}),(0,g.jsxs)(w.rU,{to:"/wallet/buy",className:"btn",children:["Buy LST",(0,g.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,g.jsxs)(w.rU,{to:"/wallet/sell",className:"btn",children:["Sell LST",(0,g.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]}),(0,g.jsx)(c.Z,{condition:e.transactions.length>0,children:(0,g.jsxs)(s.Z,{responsive:!0,hover:!0,variant:"light",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Event"}),(0,g.jsx)("th",{children:"LST Amount"}),(0,g.jsx)("th",{children:"ETH Amount"}),(0,g.jsx)("th",{children:"Transaction Time"}),(0,g.jsx)("th",{children:"EtherScan Link"})]})}),(0,g.jsx)("tbody",{children:r})]})})]})}),(0,g.jsx)(c.Z,{condition:!e.isLoaded||!n.isLoaded,children:(0,g.jsx)(i.Z,{})})]})}}}]);
//# sourceMappingURL=710.883f892d.chunk.js.map