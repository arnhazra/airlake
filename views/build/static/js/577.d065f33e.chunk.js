"use strict";(self.webpackChunkview=self.webpackChunkview||[]).push([[577],{4577:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var t=r(2102),s=r(465),i=r(7313),a=r(2375),c=r(5099),d=r(816),l=r.n(d),o=r(4537),h=r(4165),u=r(1413),x=r(5861),j=r(9439),f=r(6573),m=r(8467),p=r(6056),v=function(){var e=(0,i.useState)({transactions:[],isLoaded:!1}),n=(0,j.Z)(e,2),r=n[0],t=n[1],s=(0,m.s0)();return(0,i.useEffect)((function(){(0,x.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.post(o.Z.walletTransactionEndpoint);case 3:n=e.sent,t((0,u.Z)((0,u.Z)({},r),{},{transactions:n.data.transactions,isLoaded:!0})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),401===e.t0.response.status?(localStorage.removeItem("accessToken"),s("/")):(t((0,u.Z)((0,u.Z)({},r),{},{isLoaded:!0})),p.Am.error("Something went wrong"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),r},Z=function(){var e=(0,i.useState)({inr:0,usd:0,eur:0,isLoaded:!1}),n=(0,j.Z)(e,2),r=n[0],t=n[1],s=(0,m.s0)(),a=function(){var e=(0,x.Z)((0,h.Z)().mark((function e(){var n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.post(o.Z.walletLivePriceEndpoint);case 3:n=e.sent,t({inr:n.data.ethereum.inr,usd:n.data.ethereum.usd,eur:n.data.ethereum.eur,isLoaded:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),401===e.t0.response.status?(localStorage.removeItem("accessToken"),s("/")):(t({inr:0,usd:0,eur:0,isLoaded:!0}),p.Am.error("Something went wrong"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){a();var e=setInterval((function(){return a()}),45e3);return function(){return clearInterval(e)}}),[]),r},w=r(2135),L=r(617),S=r(6417),T=function(){var e=v(),n=Z(),r=e.transactions.map((function(e){return(0,S.jsxs)("tr",{children:[(0,S.jsxs)("td",{children:[e.transactionType," LST"]}),(0,S.jsxs)("td",{children:[e.lstAmount," LST"]}),(0,S.jsxs)("td",{children:[e.ethAmount," ETH"]}),(0,S.jsx)("td",{children:l()(e.date).format("MMM, Do YYYY, h:mm a")}),(0,S.jsx)("td",{children:(0,S.jsx)("a",{href:"".concat(o.Z.etherScanEndpoint,"/").concat(e.txHash),target:"_blank",rel:"noopener noreferrer",children:"View on EtherScan"})})]},e._id)}));return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(c.Z,{condition:e.isLoaded&&n.isLoaded,children:(0,S.jsxs)(t.Z,{children:[(0,S.jsxs)("div",{className:"jumbotron mt-4 pl-5",children:[(0,S.jsx)("p",{className:"display-4",children:"Wallet"}),(0,S.jsx)("div",{children:(0,S.jsxs)(s.Z,{responsive:!0,hover:!0,variant:"light",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Crypto"}),(0,S.jsx)("th",{children:"INR"}),(0,S.jsx)("th",{children:"USD"}),(0,S.jsx)("th",{children:"EUR"})]})}),(0,S.jsxs)("tbody",{children:[(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"ETH"}),(0,S.jsx)("td",{children:n.inr}),(0,S.jsx)("td",{children:n.usd}),(0,S.jsx)("td",{children:n.eur})]}),(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:"LST"}),(0,S.jsxs)("td",{children:[" ",(n.inr/1e4).toFixed(3)]}),(0,S.jsx)("td",{children:(n.usd/1e4).toFixed(3)}),(0,S.jsx)("td",{children:(n.eur/1e4).toFixed(3)})]})]})]})},"liveprice"),(0,S.jsxs)("div",{className:"info",children:[(0,S.jsx)("p",{className:"lead",children:L.Z.Info}),(0,S.jsx)("p",{className:"lead",children:L.Z.Warning}),(0,S.jsxs)(w.rU,{to:"/wallet/buy",className:"btn",children:["Buy LST",(0,S.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,S.jsxs)(w.rU,{to:"/wallet/sell",className:"btn",children:["Sell LST",(0,S.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]}),(0,S.jsx)(c.Z,{condition:e.transactions.length>0,children:(0,S.jsxs)(s.Z,{responsive:!0,hover:!0,variant:"light",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Event"}),(0,S.jsx)("th",{children:"LST Amount"}),(0,S.jsx)("th",{children:"ETH Amount"}),(0,S.jsx)("th",{children:"Transaction Time"}),(0,S.jsx)("th",{children:"EtherScan Link"})]})}),(0,S.jsx)("tbody",{children:r})]})})]})}),(0,S.jsx)(c.Z,{condition:!e.isLoaded||!n.isLoaded,children:(0,S.jsx)(a.Z,{})})]})}}}]);