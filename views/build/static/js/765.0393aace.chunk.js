"use strict";(self.webpackChunkview=self.webpackChunkview||[]).push([[765],{5595:function(e,n){var t;!function(e){e.tokenContractAddress="0x9d46e816e10c6353Fcf7381343b053117641d472",e.vendorContractAddress="0xeF98846BF1e7F5f8c380F481701763650021A5d4"}(t||(t={})),n.Z=t},6486:function(e,n,t){t.d(n,{r:function(){return a}});var a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},5629:function(e,n,t){t.d(n,{C:function(){return a}});var a=[{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amountOfETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOfTokens",type:"uint256"}],name:"BuyTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buyTokens",outputs:[{internalType:"uint256",name:"tokenAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenAmountToSell",type:"uint256"}],name:"sellTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokensPerETH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferToken",outputs:[],stateMutability:"nonpayable",type:"function"}]},6765:function(e,n,t){t.r(n);var a=t(4165),s=t(5861),i=t(9439),r=t(2791),o=t(3053),u=t(8322),p=t(2388),l=t(6486),d=t(5629),c=t(5813),y=t.n(c),m=t(1912),f=t(5595),b=t(6796),x=t(3402),T=t(184),h=new(y())(y().givenProvider);n.default=function(){var e=(0,r.useState)(""),n=(0,i.Z)(e,2),t=n[0],c=n[1],y=(0,r.useState)(0),v=(0,i.Z)(y,2),w=v[0],k=v[1],j=(0,r.useState)(""),Z=(0,i.Z)(j,2),A=Z[0],M=Z[1],N=(0,r.useState)(1),g=(0,i.Z)(N,2),C=g[0],S=g[1],F=(0,r.useState)(!1),O=(0,i.Z)(F,2),E=O[0],H=O[1];(0,r.useEffect)((function(){k(Number(t)/1e4)}),[t]);var P=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"undefined"==typeof window||"undefined"==typeof window.ethereum){e.next=14;break}return e.prev=2,e.next=5,window.ethereum.request({method:"eth_requestAccounts"});case 5:n=e.sent,M(n[0]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),x.Am.error("Unable to connect to metamask");case 12:e.next=15;break;case 14:x.Am.error("Please install metamask");case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),x.Am.error("Please install metamask");case 20:case"end":return e.stop()}}),e,null,[[0,17],[2,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,s,i,r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(2),e.next=4,h.eth.getAccounts();case 4:return n=e.sent,s=new h.eth.Contract(l.r,f.Z.tokenContractAddress),e.next=8,s.methods.approve(f.Z.vendorContractAddress,h.utils.toWei(t,"ether")).send({from:n[0]});case 8:return i=e.sent,r=new h.eth.Contract(d.C,f.Z.vendorContractAddress),e.next=12,r.methods.sellTokens(h.utils.toWei(t,"ether")).send({from:n[0]});case 12:return i=e.sent,o={fromAddress:i.from||"0x",transactionType:"Sell",lstAmount:t,ethAmount:w,txHash:i.transactionHash},e.next=16,m.Z.post(b.Z.createTxEndpoint,o);case 16:S(3),x.Am.success("You have successfully sold LST tokens!"),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),H(!0),S(3),x.Am.error("Error selling LST tokens");case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return(0,T.jsx)(r.Fragment,{children:(0,T.jsxs)("div",{className:"box",children:[(0,T.jsxs)(p.Z,{condition:""!==A,children:[(0,T.jsxs)(p.Z,{condition:1===C,children:[(0,T.jsx)("p",{className:"branding",children:"Sell LST"}),(0,T.jsx)(o.Z,{controlId:"floatingAmount",label:"Amount of tokens",children:(0,T.jsx)(u.Z.Control,{autoFocus:!0,type:"email",placeholder:"Amount of tokens",onChange:function(e){return c(e.target.value)},required:!0})}),(0,T.jsxs)("p",{id:"alert",children:["ETH equivalent: ",w]}),(0,T.jsxs)("button",{className:"btn btnbox",onClick:q,children:["Sell",(0,T.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]}),(0,T.jsxs)(p.Z,{condition:2===C,children:[(0,T.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,T.jsxs)("div",{className:"text-center mt-4",children:[(0,T.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin text-center fa-6x"}),(0,T.jsx)("p",{className:"lead text-center mt-4",children:"Processing"})]})]}),(0,T.jsxs)(p.Z,{condition:3===C,children:[(0,T.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,T.jsx)(p.Z,{condition:!E,children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("i",{className:"fa-solid fa-circle-check fa-6x"}),(0,T.jsx)("p",{className:"lead text-center mt-4",children:"Success"})]})}),(0,T.jsx)(p.Z,{condition:E,children:(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("i",{className:"fa-solid fa-circle-xmark fa-6x"}),(0,T.jsx)("p",{className:"lead text-center mt-4",children:"Failed"})]})})]})]}),(0,T.jsxs)(p.Z,{condition:""===A,children:[(0,T.jsx)("p",{className:"branding",children:"Connect Wallet"}),(0,T.jsxs)("button",{className:"btn btnbox",onClick:P,children:["Connect to Metamask",(0,T.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]})})}}}]);
//# sourceMappingURL=765.0393aace.chunk.js.map