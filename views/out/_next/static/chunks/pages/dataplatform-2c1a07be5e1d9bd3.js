(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{6414:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataplatform",function(){return s(520)}])},5930:function(e,t,s){"use strict";s.d(t,{Z:function(){return y}});var a=s(5893),n=s(1555),r=s(4184),l=s.n(r),i=s(7294),o=s(6792),d=s(6611),c=s(9602);let u=i.forwardRef(({bsPrefix:e,className:t,variant:s,as:n="img",...r},i)=>{let d=(0,o.vE)(e,"card-img");return(0,a.jsx)(n,{ref:i,className:l()(s?`${d}-${s}`:d,t),...r})});u.displayName="CardImg";var m=s(9059);let f=i.forwardRef(({bsPrefix:e,className:t,as:s="div",...n},r)=>{let d=(0,o.vE)(e,"card-header"),c=(0,i.useMemo)(()=>({cardHeaderBsPrefix:d}),[d]);return(0,a.jsx)(m.Z.Provider,{value:c,children:(0,a.jsx)(s,{ref:r,...n,className:l()(t,d)})})});f.displayName="CardHeader";let x=(0,c.Z)("h5"),h=(0,c.Z)("h6"),p=(0,d.Z)("card-body"),v=(0,d.Z)("card-title",{Component:x}),j=(0,d.Z)("card-subtitle",{Component:h}),g=(0,d.Z)("card-link",{Component:"a"}),N=(0,d.Z)("card-text",{Component:"p"}),Z=(0,d.Z)("card-footer"),C=(0,d.Z)("card-img-overlay"),w=i.forwardRef(({bsPrefix:e,className:t,bg:s,text:n,border:r,body:i,children:d,as:c="div",...u},m)=>{let f=(0,o.vE)(e,"card");return(0,a.jsx)(c,{ref:m,...u,className:l()(t,f,s&&`bg-${s}`,n&&`text-${n}`,r&&`border-${r}`),children:i?(0,a.jsx)(p,{children:d}):d})});w.displayName="Card",w.defaultProps={body:!1};var b=Object.assign(w,{Img:u,Title:v,Subtitle:j,Body:p,Link:g,Text:N,Header:f,Footer:Z,ImgOverlay:C}),E=s(1664),T=s.n(E);let S=e=>{let{id:t,category:s,name:r,price:l}=e;return(0,a.jsx)(n.Z,{xs:6,sm:6,md:4,lg:3,xl:2,className:"mb-4",children:(0,a.jsx)(T(),{href:"/viewdataset?id=".concat(t),children:(0,a.jsxs)(b,{children:[(0,a.jsx)(b.Header,{className:"pt-3",children:(0,a.jsx)("div",{className:"".concat(s.toLowerCase(),"Container pt-4")})}),(0,a.jsxs)(b.Footer,{className:"pt-4 pb-2 ps-4 ".concat(s.toLowerCase(),"Color"),children:[(0,a.jsx)("div",{className:"nameContainer",children:(0,a.jsx)("p",{className:"lead",children:r})}),(0,a.jsx)("p",{className:"smalltext",children:s})]})]})})})};var y=S},5912:function(e,t){"use strict";var s,a;(a=s||(s={})).POST="POST",a.GET="GET",a.PATCH="PATCH",a.PUT="PUT",a.DELETE="DELETE",a.OPTIONS="OPTIONS",t.Z=s},520:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(5893),n=s(7294),r=s(682),l=s(4051),i=s(9548),o=s(7891),d=s(5309),c=s(1555),u=s(4119),m=s(1358),f=s(6154),x=s(8767),h=s(1163),p=s(6501),v=s(8893),j=function(e,t,s,a){let n=(0,h.useRouter)(),r=async()=>{let{data:e}=await (0,f.Z)({method:s,url:t,data:a});return e},{data:l,isLoading:i}=(0,x.useQuery)([e,a],()=>r(),{enabled:!0,refetchOnWindowFocus:!1,retry:3,retryDelay:2500,onError(t){t.response&&401===t.response.status&&(localStorage.removeItem("accessToken"),n.push("/")),p.Am.error("".concat(v.Z.ToastError," fetching ").concat(e))}});return{data:l,isLoading:i}},g=s(9063),N=s(5912);let Z=()=>{var e,t;let s=j("filters",g.Z.datasetFiltersEndpoint,N.Z.POST),[{datasetRequestState:r},f]=(0,n.useContext)(d.k),x=null==s?void 0:null===(e=s.data)||void 0===e?void 0:null===(t=e.filterCategories)||void 0===t?void 0:t.map(e=>(0,a.jsx)("option",{className:"options",value:e,children:e},e));return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(o.Z,{condition:!(null==s?void 0:s.isLoading),children:(0,a.jsxs)(l.Z,{className:"g-2 mt-4",children:[(0,a.jsx)(c.Z,{xs:12,sm:12,md:6,lg:4,xl:3,children:(0,a.jsx)(u.Z,{controlId:"floatingSelectGrid",label:"Select Filter Category",children:(0,a.jsx)(m.Z.Select,{defaultValue:r.selectedFilter,onChange:e=>f("setDatasetRequestState",{selectedFilter:e.target.value}),children:x})})}),(0,a.jsx)(c.Z,{xs:12,sm:12,md:6,lg:4,xl:3,children:(0,a.jsx)(u.Z,{controlId:"floatingSelectGrid",label:"Sort By",children:(0,a.jsxs)(m.Z.Select,{defaultValue:r.selectedSortOption,onChange:e=>f("setDatasetRequestState",{selectedSortOption:e.target.value}),children:[(0,a.jsx)("option",{className:"options",value:"-_id",children:"Dataset Freshness"},"freshness"),(0,a.jsx)("option",{className:"options",value:"name",children:"Name Ascending"},"nameAscending"),(0,a.jsx)("option",{className:"options",value:"-name",children:"Name Descending"},"nameDescending"),(0,a.jsx)("option",{className:"options",value:"price",children:"Price Ascending"},"priceAscending"),(0,a.jsx)("option",{className:"options",value:"-price",children:"Price Descending"},"priceDescending")]})})})]})}),(0,a.jsx)(o.Z,{condition:null==s?void 0:s.isLoading,children:(0,a.jsx)(i.Z,{})})]})};var C=s(5930);let w=()=>{var e,t,s,c;let[{datasetRequestState:u},m]=(0,n.useContext)(d.k),f=j("data platform",g.Z.dataplatformEndpoint,N.Z.POST,u),x=null==f?void 0:null===(e=f.data)||void 0===e?void 0:null===(t=e.datasets)||void 0===t?void 0:t.map(e=>(0,a.jsx)(C.Z,{id:e._id,category:e.category,name:e.name,price:e.price},e._id)),h=()=>{let e=u.offset-24;m("setDatasetRequestState",{offset:e}),window.scrollTo(0,0)},p=()=>{let e=u.offset+24;m("setDatasetRequestState",{offset:e}),window.scrollTo(0,0)};return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(o.Z,{condition:!f.isLoading,children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(Z,{}),(0,a.jsx)(l.Z,{className:"mt-4 mb-4",children:x}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("button",{className:"btn",onClick:h,disabled:0===u.offset,children:(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-left"})}),(0,a.jsx)("button",{className:"btn",onClick:p,disabled:(null==f?void 0:null===(s=f.data)||void 0===s?void 0:null===(c=s.datasets)||void 0===c?void 0:c.length)!==24,children:(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})})]})]})}),(0,a.jsx)(o.Z,{condition:f.isLoading,children:(0,a.jsx)(i.Z,{})})]})};var b=w},4051:function(e,t,s){"use strict";var a=s(4184),n=s.n(a),r=s(7294),l=s(6792),i=s(5893);let o=r.forwardRef(({bsPrefix:e,className:t,as:s="div",...a},r)=>{let o=(0,l.vE)(e,"row"),d=(0,l.pi)(),c=(0,l.zG)(),u=`${o}-cols`,m=[];return d.forEach(e=>{let t;let s=a[e];delete a[e],null!=s&&"object"==typeof s?{cols:t}=s:t=s;let n=e!==c?`-${e}`:"";null!=t&&m.push(`${u}${n}-${t}`)}),(0,i.jsx)(s,{ref:r,...a,className:n()(t,o,...m)})});o.displayName="Row",t.Z=o}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6414)}),_N_E=e.O()}]);