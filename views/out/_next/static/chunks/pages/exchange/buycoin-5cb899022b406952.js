(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[215],{9739:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/exchange/buycoin",function(){return n(5178)}])},3700:function(e,t){"use strict";var n,s;(s=n||(n={})).tokenContractAddress="0x9d46e816e10c6353Fcf7381343b053117641d472",s.vendorContractAddress="0xeF98846BF1e7F5f8c380F481701763650021A5d4",t.Z=n},4833:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});let s=[{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amountOfETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOfTokens",type:"uint256"}],name:"BuyTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buyTokens",outputs:[{internalType:"uint256",name:"tokenAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenAmountToSell",type:"uint256"}],name:"sellTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokensPerETH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferToken",outputs:[],stateMutability:"nonpayable",type:"function"}]},5178:function(e,t,n){"use strict";n.r(t);var s=n(5893),a=n(7294),i=n(4119),r=n(1358),o=n(7891),c=n(4833),u=n(7918),l=n.n(u),d=n(6154),p=n(3700),m=n(9063),y=n(6501);let x=new(l())(l().givenProvider),h=()=>{let[e,t]=(0,a.useState)(""),[n,u]=(0,a.useState)(0),[l,h]=(0,a.useState)(""),[f,b]=(0,a.useState)(1),[T,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{u(Number(e)/1e4)},[e]);let w=async()=>{try{if(void 0!==window.ethereum)try{let e=await window.ethereum.request({method:"eth_requestAccounts"});h(e[0])}catch(e){y.Am.error("Unable to connect to metamask")}else y.Am.error("Please install metamask")}catch(e){y.Am.error("Please install metamask")}},k=async()=>{try{b(2);let t=new x.eth.Contract(c.C,p.Z.vendorContractAddress),s=await t.methods.buyTokens().send({from:l,value:x.utils.toWei(n.toString(),"ether")}),a={fromAddress:s.from||"0x",transactionType:"Buy",lstAmount:e,ethAmount:n,txHash:s.transactionHash};await d.Z.post(m.Z.createTxEndpoint,a),b(3),y.Am.success("You have successfully bought LST tokens!")}catch(e){j(!0),b(3),y.Am.error("Error purchasing LST tokens")}};return(0,s.jsx)(a.Fragment,{children:(0,s.jsxs)("div",{className:"box",children:[(0,s.jsxs)(o.Z,{condition:""!==l,children:[(0,s.jsxs)(o.Z,{condition:1===f,children:[(0,s.jsx)("p",{className:"branding",children:"Buy LST"}),(0,s.jsx)(i.Z,{controlId:"floatingAmount",label:"Amount of tokens",children:(0,s.jsx)(r.Z.Control,{autoFocus:!0,type:"email",placeholder:"Amount of tokens",onChange:e=>t(e.target.value),required:!0})}),(0,s.jsxs)("p",{id:"alert",children:["ETH equivalent: ",n]}),(0,s.jsxs)("button",{className:"btn btnbox",onClick:k,children:["Buy",(0,s.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]}),(0,s.jsxs)(o.Z,{condition:2===f,children:[(0,s.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,s.jsxs)("div",{className:"text-center mt-4",children:[(0,s.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin text-center fa-6x"}),(0,s.jsx)("p",{className:"lead text-center mt-4",children:"Processing"})]})]}),(0,s.jsxs)(o.Z,{condition:3===f,children:[(0,s.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,s.jsx)(o.Z,{condition:!T,children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("i",{className:"fa-solid fa-circle-check fa-6x"}),(0,s.jsx)("p",{className:"lead text-center mt-4",children:"Success"})]})}),(0,s.jsx)(o.Z,{condition:T,children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("i",{className:"fa-solid fa-circle-xmark fa-6x"}),(0,s.jsx)("p",{className:"lead text-center mt-4",children:"Failed"})]})})]})]}),(0,s.jsxs)(o.Z,{condition:""===l,children:[(0,s.jsx)("p",{className:"branding",children:"Connect Wallet"}),(0,s.jsxs)("button",{className:"btn btnbox",onClick:w,children:["Connect to Metamask",(0,s.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]})})};t.default=h}},function(e){e.O(0,[543,774,888,179],function(){return e(e.s=9739)}),_N_E=e.O()}]);