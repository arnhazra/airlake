(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{4641:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return n(6807)}])},6807:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return k}});var t=n(5893),r=n(7294),a=n(5309),i=n(6154),c=n(9063),o=n(6501),l=n(1163),d=n(8893);let h=()=>{let e=(0,l.useRouter)(),s=()=>{localStorage.removeItem("accessToken"),e.push("/")},n=async()=>{try{await i.Z.post(c.Z.signOutEndpoint),localStorage.removeItem("accessToken"),e.push("/")}catch(e){o.Am.error(d.Z.ToastError)}};return{signOutFromThisDevice:s,signOutFromAllDevices:n}},u=()=>{let[e,s]=(0,r.useState)({transactions:[],isLoaded:!1}),n=(0,l.useRouter)();return(0,r.useEffect)(()=>{(async()=>{try{let n=await i.Z.post(c.Z.getTransactionsEndpoint);s({...e,transactions:n.data.transactions,isLoaded:!0})}catch(t){t.response&&401===t.response.status&&(localStorage.removeItem("accessToken"),n.push("/")),s({...e,isLoaded:!0}),o.Am.error(d.Z.ToastError)}})()},[]),e};var x=n(381),m=n.n(x),j=n(7891),p=n(682),f=n(4184),E=n.n(f),N=n(6792);let v=r.forwardRef(({bsPrefix:e,className:s,striped:n,bordered:r,borderless:a,hover:i,size:c,variant:o,responsive:l,...d},h)=>{let u=(0,N.vE)(e,"table"),x=E()(s,u,o&&`${u}-${o}`,c&&`${u}-${c}`,n&&`${u}-${"string"==typeof n?`striped-${n}`:"striped"}`,r&&`${u}-bordered`,a&&`${u}-borderless`,i&&`${u}-hover`),m=(0,t.jsx)("table",{...d,className:x,ref:h});if(l){let e=`${u}-responsive`;return"string"==typeof l&&(e=`${e}-${l}`),(0,t.jsx)("div",{className:e,children:m})}return m});var g=n(1664),T=n.n(g),b=n(9548);let w=()=>{let[{userState:e}]=(0,r.useContext)(a.k),s=h(),n=u(),i=n.transactions.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[e.transactionType," ELT"]}),(0,t.jsxs)("td",{children:[e.eltAmount," ELT"]}),(0,t.jsxs)("td",{children:[e.ethAmount," ETH"]}),(0,t.jsx)("td",{children:m()(e.date).format("MMM, Do YYYY, h:mm a")}),(0,t.jsx)("td",{children:(0,t.jsx)("a",{href:"".concat(c.Z.etherScanEndpoint,"/").concat(e.txHash),target:"_blank",rel:"noopener noreferrer",className:"link-table",children:"View on EtherScan"})})]},e._id));return(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(j.Z,{condition:n.isLoaded,children:(0,t.jsxs)(p.Z,{children:[(0,t.jsxs)("div",{className:"jumbotron mt-4 pl-5",children:[(0,t.jsx)("p",{className:"display-6",children:"Account"}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsxs)("p",{className:"lead",children:["Signed in as ",e.name]}),(0,t.jsx)("p",{className:"lead",children:d.Z.Info}),(0,t.jsx)("p",{className:"lead",children:d.Z.Warning}),(0,t.jsxs)(T(),{href:"/eltswap",className:"btn chip",children:["Swap ELT",(0,t.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,t.jsxs)("button",{className:"btn chip ",onClick:s.signOutFromThisDevice,children:["Sign Out",(0,t.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,t.jsx)("br",{}),(0,t.jsxs)("button",{className:"btn chip ",onClick:s.signOutFromAllDevices,children:["Sign Out From All Devices",(0,t.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]}),(0,t.jsxs)(j.Z,{condition:n.transactions.length>0,children:[(0,t.jsx)("p",{className:"lead text-center text-white mb-4",children:"Transactions"}),(0,t.jsxs)(v,{responsive:!0,hover:!0,variant:"dark",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Event"}),(0,t.jsx)("th",{children:"ELT Amount"}),(0,t.jsx)("th",{children:"ETH Amount"}),(0,t.jsx)("th",{children:"Transaction Time"}),(0,t.jsx)("th",{children:"EtherScan Link"})]})}),(0,t.jsx)("tbody",{children:i})]})]})]})}),(0,t.jsx)(j.Z,{condition:!n.isLoaded,children:(0,t.jsx)(b.Z,{})})]})};var k=w}},function(e){e.O(0,[885,774,888,179],function(){return e(e.s=4641)}),_N_E=e.O()}]);