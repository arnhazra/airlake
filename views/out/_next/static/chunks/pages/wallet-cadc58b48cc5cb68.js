(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[789],{295:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wallet",function(){return r(432)}])},432:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return S}});var t=r(5893),n=r(682),i=r(4184),a=r.n(i),d=r(7294),l=r(6792);let c=d.forwardRef(({bsPrefix:e,className:s,striped:r,bordered:n,borderless:i,hover:d,size:c,variant:o,responsive:h,...x},u)=>{let j=(0,l.vE)(e,"table"),m=a()(s,j,o&&`${j}-${o}`,c&&`${j}-${c}`,r&&`${j}-${"string"==typeof r?`striped-${r}`:"striped"}`,n&&`${j}-bordered`,i&&`${j}-borderless`,d&&`${j}-hover`),p=(0,t.jsx)("table",{...x,className:m,ref:u});if(h){let e=`${j}-responsive`;return"string"==typeof h&&(e=`${e}-${h}`),(0,t.jsx)("div",{className:e,children:p})}return p});var o=r(1664),h=r.n(o),x=r(9548),u=r(7891),j=r(381),m=r.n(j),p=r(9063),f=r(6154),v=r(1163),E=r(6501),T=r(8893);let L=()=>{let[e,s]=(0,d.useState)({transactions:[],isLoaded:!1}),r=(0,v.useRouter)();return(0,d.useEffect)(()=>{(async()=>{try{let r=await f.Z.post(p.Z.walletTransactionEndpoint);s({...e,transactions:r.data.transactions,isLoaded:!0})}catch(t){t.response&&401===t.response.status&&(localStorage.removeItem("accessToken"),r.push("/")),s({...e,isLoaded:!0}),E.Am.error(T.Z.ToastError)}})()},[]),e},N=()=>{let[e,s]=(0,d.useState)({inr:0,usd:0,eur:0,isLoaded:!1}),r=(0,v.useRouter)(),t=async()=>{try{let e=await f.Z.post(p.Z.walletLivePriceEndpoint);s({inr:e.data.ethereum.inr,usd:e.data.ethereum.usd,eur:e.data.ethereum.eur,isLoaded:!0})}catch(e){e.response&&401===e.response.status&&(localStorage.removeItem("accessToken"),r.push("/")),s({inr:0,usd:0,eur:0,isLoaded:!0}),E.Am.error(T.Z.ToastError)}};return(0,d.useEffect)(()=>{t();let e=setInterval(()=>t(),45e3);return()=>clearInterval(e)},[]),e},w=()=>{let e=L(),s=N(),r=e.transactions.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[e.transactionType," LST"]}),(0,t.jsxs)("td",{children:[e.lstAmount," LST"]}),(0,t.jsxs)("td",{children:[e.ethAmount," ETH"]}),(0,t.jsx)("td",{children:m()(e.date).format("MMM, Do YYYY, h:mm a")}),(0,t.jsx)("td",{children:(0,t.jsx)("a",{href:"".concat(p.Z.etherScanEndpoint,"/").concat(e.txHash),target:"_blank",rel:"noopener noreferrer",className:"link-table",children:"View on EtherScan"})})]},e._id));return(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)(u.Z,{condition:e.isLoaded&&s.isLoaded,children:(0,t.jsxs)(n.Z,{children:[(0,t.jsxs)("div",{className:"jumbotron mt-4 pl-5",children:[(0,t.jsx)("p",{className:"display-4",children:"Wallet"}),(0,t.jsx)("div",{children:(0,t.jsxs)(c,{responsive:!0,hover:!0,variant:"light",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Crypto"}),(0,t.jsx)("th",{children:"INR"}),(0,t.jsx)("th",{children:"USD"}),(0,t.jsx)("th",{children:"EUR"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"ETH"}),(0,t.jsx)("td",{children:s.inr}),(0,t.jsx)("td",{children:s.usd}),(0,t.jsx)("td",{children:s.eur})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"LST"}),(0,t.jsx)("td",{children:(s.inr/1e4).toFixed(3)}),(0,t.jsx)("td",{children:(s.usd/1e4).toFixed(3)}),(0,t.jsx)("td",{children:(s.eur/1e4).toFixed(3)})]})]})]})},"liveprice"),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsx)("p",{className:"lead",children:T.Z.Info}),(0,t.jsx)("p",{className:"lead",children:T.Z.Warning}),(0,t.jsxs)(h(),{href:"/buycoin",className:"btn",children:["Buy LST",(0,t.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,t.jsxs)(h(),{href:"/sellcoin",className:"btn",children:["Sell LST",(0,t.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]}),(0,t.jsx)(u.Z,{condition:e.transactions.length>0,children:(0,t.jsxs)(c,{responsive:!0,hover:!0,variant:"light",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Event"}),(0,t.jsx)("th",{children:"LST Amount"}),(0,t.jsx)("th",{children:"ETH Amount"}),(0,t.jsx)("th",{children:"Transaction Time"}),(0,t.jsx)("th",{children:"EtherScan Link"})]})}),(0,t.jsx)("tbody",{children:r})]})})]})}),(0,t.jsx)(u.Z,{condition:!e.isLoaded||!s.isLoaded,children:(0,t.jsx)(x.Z,{})})]})};var S=w}},function(e){e.O(0,[885,774,888,179],function(){return e(e.s=295)}),_N_E=e.O()}]);