(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{4641:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return s(8310)}])},5912:function(e,n){"use strict";var s,t;(t=s||(s={})).POST="POST",t.GET="GET",t.PATCH="PATCH",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS",n.Z=s},9039:function(e,n,s){"use strict";var t=s(6154),r=s(8767),a=s(1163),i=s(6501),c=s(8893);n.Z=function(e,n,s,o,l){let d=(0,a.useRouter)(),h=async()=>{let{data:e}=await (0,t.Z)({method:s,url:n,data:o});return e},{error:u,data:x,isLoading:j}=(0,r.useQuery)([e,o,l],()=>h(),{enabled:!0,refetchOnWindowFocus:!0,refetchInterval:6e4,retry:3,retryDelay:2500,onError(n){n.response&&401===n.response.status&&(localStorage.removeItem("accessToken"),d.push("/")),i.Am.error("".concat(c.Z.ToastError," fetching ").concat(e))}});return{error:u,data:x,isLoading:j}}},8310:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return w}});var t=s(5893),r=s(7294),a=s(5309),i=s(381),c=s.n(i),o=s(9063),l=s(1120),d=s(682),h=s(4184),u=s.n(h),x=s(6792);let j=r.forwardRef(({bsPrefix:e,className:n,striped:s,bordered:r,borderless:a,hover:i,size:c,variant:o,responsive:l,...d},h)=>{let j=(0,x.vE)(e,"table"),m=u()(n,j,o&&`${j}-${o}`,c&&`${j}-${c}`,s&&`${j}-${"string"==typeof s?`striped-${s}`:"striped"}`,r&&`${j}-bordered`,a&&`${j}-borderless`,i&&`${j}-hover`),f=(0,t.jsx)("table",{...d,className:m,ref:h});if(l){let e=`${j}-responsive`;return"string"==typeof l&&(e=`${e}-${l}`),(0,t.jsx)("div",{className:e,children:f})}return f});var m=s(8893),f=s(1664),p=s.n(f),v=s(3056),T=s(9039),E=s(5912),N=s(1163),g=s(6154),b=s(6501);let Z=()=>{var e,n,s,i;let[{userState:h}]=(0,r.useContext)(a.k),u=(0,N.useRouter)(),x=(0,T.Z)("transactions",o.Z.getTransactionsEndpoint,E.Z.POST),f=()=>{localStorage.removeItem("accessToken"),u.push("/")},Z=async()=>{try{await g.Z.post(o.Z.signOutEndpoint),localStorage.removeItem("accessToken"),u.push("/")}catch(e){b.Am.error(m.Z.ToastError)}},w=null==x?void 0:null===(e=x.data)||void 0===e?void 0:null===(n=e.transactions)||void 0===n?void 0:n.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[e.transactionType," ELT"]}),(0,t.jsxs)("td",{children:[e.eltAmount," ELT"]}),(0,t.jsxs)("td",{children:[e.ethAmount," ETH"]}),(0,t.jsx)("td",{children:c()(e.date).format("MMM, Do YYYY, h:mm a")}),(0,t.jsx)("td",{children:(0,t.jsx)("a",{href:"".concat(o.Z.etherScanEndpoint,"/").concat(e.txHash),target:"_blank",rel:"noopener noreferrer",className:"link-table",children:"View on EtherScan"})})]},e._id));return(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(l.Z,{condition:!x.isLoading,children:(0,t.jsxs)(d.Z,{children:[(0,t.jsxs)("div",{className:"jumbotron mt-4 pl-5",children:[(0,t.jsx)("p",{className:"display-6",children:"Account"}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsxs)("p",{className:"lead",children:["Signed in as ",h.name]}),(0,t.jsx)("p",{className:"lead",children:m.Z.Info}),(0,t.jsx)("p",{className:"lead",children:m.Z.Warning}),(0,t.jsxs)(p(),{href:"/eltswap",className:"btn",children:["Swap ELT",(0,t.jsx)("i",{className:"fa-solid fa-shuffle"})]}),(0,t.jsxs)("button",{className:"btn",onClick:f,children:["Sign Out",(0,t.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,t.jsx)("br",{}),(0,t.jsxs)("button",{className:"btn",onClick:Z,children:["Sign Out From All Devices",(0,t.jsx)("i",{className:"fa-solid fa-square-arrow-up-right"})]})]})]}),(0,t.jsxs)(l.Z,{condition:(null==x?void 0:null===(s=x.data)||void 0===s?void 0:null===(i=s.transactions)||void 0===i?void 0:i.length)>0,children:[(0,t.jsx)("p",{className:"lead text-center text-white mb-4",children:"Transactions"}),(0,t.jsxs)(j,{responsive:!0,hover:!0,variant:"light",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Event"}),(0,t.jsx)("th",{children:"ELT Amount"}),(0,t.jsx)("th",{children:"ETH Amount"}),(0,t.jsx)("th",{children:"Transaction Time"}),(0,t.jsx)("th",{children:"EtherScan Link"})]})}),(0,t.jsx)("tbody",{children:w})]})]})]})}),(0,t.jsx)(l.Z,{condition:x.isLoading,children:(0,t.jsx)(v.Z,{})})]})};var w=Z}},function(e){e.O(0,[885,774,888,179],function(){return e(e.s=4641)}),_N_E=e.O()}]);