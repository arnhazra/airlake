(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{8535:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/viewdataset",function(){return n(3806)}])},8609:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=n(5893),i=n(1555),o=n(4184),r=n.n(o),s=n(7294),l=n(6792),d=n(6611),c=n(9602);let u=s.forwardRef(({bsPrefix:e,className:t,variant:n,as:i="img",...o},s)=>{let d=(0,l.vE)(e,"card-img");return(0,a.jsx)(i,{ref:s,className:r()(n?`${d}-${n}`:d,t),...o})});u.displayName="CardImg";var p=n(9059);let m=s.forwardRef(({bsPrefix:e,className:t,as:n="div",...i},o)=>{let d=(0,l.vE)(e,"card-header"),c=(0,s.useMemo)(()=>({cardHeaderBsPrefix:d}),[d]);return(0,a.jsx)(p.Z.Provider,{value:c,children:(0,a.jsx)(n,{ref:o,...i,className:r()(t,d)})})});m.displayName="CardHeader";let v=(0,c.Z)("h5"),y=(0,c.Z)("h6"),f=(0,d.Z)("card-body"),h=(0,d.Z)("card-title",{Component:v}),x=(0,d.Z)("card-subtitle",{Component:y}),b=(0,d.Z)("card-link",{Component:"a"}),g=(0,d.Z)("card-text",{Component:"p"}),w=(0,d.Z)("card-footer"),j=(0,d.Z)("card-img-overlay"),T=s.forwardRef(({bsPrefix:e,className:t,bg:n,text:i,border:o,body:s=!1,children:d,as:c="div",...u},p)=>{let m=(0,l.vE)(e,"card");return(0,a.jsx)(c,{ref:p,...u,className:r()(t,m,n&&`bg-${n}`,i&&`text-${i}`,o&&`border-${o}`),children:s?(0,a.jsx)(f,{children:d}):d})});T.displayName="Card";var C=Object.assign(T,{Img:u,Title:h,Subtitle:x,Body:f,Link:b,Text:g,Header:m,Footer:w,ImgOverlay:j}),N=n(1664),Z=n.n(N);let S=e=>{let{id:t,category:n,name:o,price:r}=e;return(0,a.jsx)(i.Z,{xs:6,sm:6,md:4,lg:3,xl:2,className:"mb-4",children:(0,a.jsx)(Z(),{href:"/viewdataset?id=".concat(t),children:(0,a.jsxs)(C,{children:[(0,a.jsx)(C.Header,{className:"pt-3",children:(0,a.jsx)("div",{className:"".concat(n.toLowerCase(),"Container pt-4")})}),(0,a.jsxs)(C.Footer,{className:"pt-4 pb-2 ps-4 ".concat(n.toLowerCase(),"Color"),children:[(0,a.jsx)("div",{className:"nameContainer",children:(0,a.jsx)("p",{className:"lead",children:o})}),(0,a.jsx)("p",{className:"smalltext",children:n}),(0,a.jsx)("p",{className:"smalltext",children:0===r?"FREE":r+" LST"})]})]})})})};var _=S},3298:function(e,t,n){"use strict";var a=n(5893),i=n(8893);let o=e=>{let{customMessage:t}=e;return(0,a.jsxs)("div",{className:"box",children:[(0,a.jsx)("p",{className:"branding mb-4",children:t||i.Z.ErrorMessage}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-exclamation fa-4x "}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]}),(0,a.jsxs)("button",{onClick:()=>window.history.back(),className:"btn mt-2",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-left"}),"Go Back"]})]})};t.Z=o},3700:function(e,t){"use strict";var n,a;(a=n||(n={})).tokenContractAddress="0xE7f2cF68e353cB1Fa43846f3F395475267fbFbf0",a.vendorContractAddress="0x09203B8d2132a05a2CC3bE3068d8A8198D89788e",t.Z=n},5912:function(e,t){"use strict";var n,a;(a=n||(n={})).POST="POST",a.GET="GET",a.PATCH="PATCH",a.PUT="PUT",a.DELETE="DELETE",a.OPTIONS="OPTIONS",t.Z=n},2291:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},1627:function(e,t,n){"use strict";var a=n(6154),i=n(8767),o=n(1163),r=n(6501),s=n(8893);t.Z=function(e,t,n,l,d){let c=(0,o.useRouter)(),u=async()=>{let{data:e}=await (0,a.Z)({method:n,url:t,data:l});return e},{error:p,data:m,isLoading:v}=(0,i.useQuery)([e,l,d],()=>u(),{enabled:!0,refetchOnWindowFocus:!1,retry:3,retryDelay:2500,onError(t){t.response&&401===t.response.status&&(localStorage.removeItem("accessToken"),c.push("/")),r.Am.error("".concat(s.Z.ToastError," fetching ").concat(e))}});return{error:p,data:m,isLoading:v}}},3806:function(e,t,n){"use strict";n.r(t);var a=n(5893),i=n(7294),o=n(682),r=n(4051),s=n(1555),l=n(7918),d=n.n(l),c=n(3056),u=n(1120),p=n(6154),m=n(2291),v=n(3700),y=n(9063),f=n(6501),h=n(8609),x=n(1163),b=n(8893),g=n(1627),w=n(5912),j=n(3298),T=n(3773);let C=new(d())(d().givenProvider),N=()=>{var e,t,n,l,d,N,Z,S,_,k,E,M,P,A,V,I,L;let G=(0,x.useRouter)(),{id:F}=G.query,[O,R]=(0,i.useState)(Math.random().toString()),[B,W]=(0,i.useState)(""),$=(0,g.Z)("view dataset",y.Z.datasetViewEndpoint,w.Z.POST,{datasetId:F}),z=(0,g.Z)("similar datasets",y.Z.findsimilarDatasets,w.Z.POST,{datasetId:F}),D=(0,g.Z)("subscription status",y.Z.checkSubscriptionEndpoint,w.Z.POST,{datasetId:F},O),H=async()=>{if(0===$.data.price)try{await p.Z.post("".concat(y.Z.subscribeEndpoint),{datasetId:F}),R(Math.random().toString())}catch(e){f.Am.error(b.Z.ToastError)}else try{if(void 0!==window.ethereum)try{let e=await window.ethereum.request({method:"eth_requestAccounts"});W(e[0]);let t=new C.eth.Contract(m.r,v.Z.tokenContractAddress);await t.methods.transfer(v.Z.tokenContractAddress,C.utils.toWei($.data.price.toString(),"ether")).send({from:B}),await p.Z.post("".concat(y.Z.subscribeEndpoint),{datasetId:F}),R(Math.random().toString())}catch(e){f.Am.error("Unable to connect to metamask")}else f.Am.error("Please install metamask")}catch(e){f.Am.error("Please install metamask")}},q=null==z?void 0:null===(e=z.data)||void 0===e?void 0:null===(t=e.similarDatasets)||void 0===t?void 0:t.map(e=>(0,a.jsx)(h.Z,{id:e._id,category:e.category,name:null==e?void 0:e.name,price:null==e?void 0:e.price},e._id)),U=null==$?void 0:null===(n=$.data)||void 0===n?void 0:null===(l=n.description)||void 0===l?void 0:l.split(" ").slice(0,30).map(e=>{if(e.length>4)return(0,a.jsx)("button",{className:"btn tag-chip",title:"tags",children:e})}),X=()=>{navigator.clipboard.writeText("".concat(y.Z.metadataapi,"/").concat(F)),f.Am.success("Copied to Clipboard")},J=()=>{var e;navigator.clipboard.writeText("".concat(y.Z.dataapi,"/").concat(F,"/").concat(null==D?void 0:null===(e=D.data)||void 0===e?void 0:e.subscriptionId)),f.Am.success("Copied to Clipboard")};return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsxs)(u.Z,{condition:!(null==D?void 0:D.isLoading)&&!(null==$?void 0:$.isLoading)&&!(null==z?void 0:z.isLoading),children:[(0,a.jsx)(u.Z,{condition:!$.error,children:(0,a.jsxs)(o.Z,{className:"mt-4",children:[(0,a.jsxs)("div",{className:"jumbotron",children:[(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(h.Z,{id:null==$?void 0:null===(d=$.data)||void 0===d?void 0:d._id,category:null==$?void 0:null===(N=$.data)||void 0===N?void 0:N.category,name:null==$?void 0:null===(Z=$.data)||void 0===Z?void 0:Z.name,price:null==$?void 0:null===(S=$.data)||void 0===S?void 0:S.price},null==$?void 0:null===(_=$.data)||void 0===_?void 0:_._id),(0,a.jsxs)(s.Z,{sm:6,md:8,lg:9,xl:10,children:[(0,a.jsx)("p",{className:"display-6 text-capitalize",children:null==$?void 0:null===(k=$.data)||void 0===k?void 0:k.name}),(0,a.jsx)("p",{className:"lead",children:null==$?void 0:null===(E=$.data)||void 0===E?void 0:E.category}),(0,a.jsx)(T.i,{initialValue:null==$?void 0:null===(M=$.data)||void 0===M?void 0:M.rating,allowHover:!1,allowFraction:!0,size:25,readonly:!0}),(0,a.jsx)("p",{className:"lead mt-3",children:null==$?void 0:null===(P=$.data)||void 0===P?void 0:P.description}),(0,a.jsx)("div",{children:U})]})]}),(0,a.jsxs)(u.Z,{condition:!(null==D?void 0:null===(A=D.data)||void 0===A?void 0:A.isSubscribed),children:[(0,a.jsxs)("button",{className:"btn",onClick:H,children:["Subscribe ",(null==$?void 0:null===(V=$.data)||void 0===V?void 0:V.price)===0?"FREE":"".concat(null==$?void 0:null===(I=$.data)||void 0===I?void 0:I.price," LST"),(0,a.jsx)("i",{className:"fa-solid fa-circle-plus"})]}),(0,a.jsxs)("button",{className:"btn",onClick:X,children:["Metadata API ",(0,a.jsx)("i",{className:"fa-solid fa-copy"})]})]}),(0,a.jsxs)(u.Z,{condition:null==D?void 0:null===(L=D.data)||void 0===L?void 0:L.isSubscribed,children:[(0,a.jsxs)("button",{disabled:!0,className:"btn",children:["Subscribed ",(0,a.jsx)("i",{className:"fa-solid fa-circle-check"})]}),(0,a.jsxs)("button",{className:"btn",onClick:J,children:["Data API ",(0,a.jsx)("i",{className:"fa-solid fa-copy"})]})]})]}),(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("p",{className:"lead text-center text-white mb-4",children:"Similar Datasets"}),q]})]})}),(0,a.jsx)(u.Z,{condition:$.error,children:(0,a.jsx)(j.Z,{})})]}),(0,a.jsx)(u.Z,{condition:(null==D?void 0:D.isLoading)||(null==$?void 0:$.isLoading)||(null==z?void 0:z.isLoading),children:(0,a.jsx)(c.Z,{})})]})};t.default=N},4051:function(e,t,n){"use strict";var a=n(4184),i=n.n(a),o=n(7294),r=n(6792),s=n(5893);let l=o.forwardRef(({bsPrefix:e,className:t,as:n="div",...a},o)=>{let l=(0,r.vE)(e,"row"),d=(0,r.pi)(),c=(0,r.zG)(),u=`${l}-cols`,p=[];return d.forEach(e=>{let t;let n=a[e];delete a[e],null!=n&&"object"==typeof n?{cols:t}=n:t=n;let i=e!==c?`-${e}`:"";null!=t&&p.push(`${u}${i}-${t}`)}),(0,s.jsx)(n,{ref:o,...a,className:i()(t,l,...p)})});l.displayName="Row",t.Z=l},3773:function(e,t,n){"use strict";var a=n(5893),i=n(7294),o=function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,n){if(n||2==arguments.length)for(var a,i=0,o=t.length;i<o;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}function s(e){var t=e.size,n=void 0===t?25:t,i=e.SVGstrokeColor,r=e.SVGstorkeWidth,s=e.SVGclassName,l=e.SVGstyle;return a.jsx("svg",o({className:void 0===s?"star-svg":s,style:l,stroke:void 0===i?"currentColor":i,fill:"currentColor",strokeWidth:void 0===r?0:r,viewBox:"0 0 24 24",width:n,height:n,xmlns:"http://www.w3.org/2000/svg"},{children:a.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function l(e,t){switch(t.type){case"PointerMove":return o(o({},e),{hoverValue:t.payload,hoverIndex:t.index});case"PointerLeave":return o(o({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return o(o({},e),{valueIndex:e.hoverIndex,ratingValue:t.payload});default:return e}}function d(){return"undefined"!=typeof window&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||"undefined"!=typeof navigator&&navigator.maxTouchPoints>0}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),t.i=function(e){var t,n,c=e.onClick,u=e.onPointerMove,p=e.onPointerEnter,m=e.onPointerLeave,v=e.initialValue,y=void 0===v?0:v,f=e.iconsCount,h=void 0===f?5:f,x=e.size,b=void 0===x?40:x,g=e.readonly,w=void 0!==g&&g,j=e.rtl,T=void 0!==j&&j,C=e.customIcons,N=void 0===C?[]:C,Z=e.allowFraction,S=void 0!==Z&&Z,_=e.style,k=e.className,E=e.transition,M=e.allowHover,P=void 0===M||M,A=e.disableFillHover,V=void 0!==A&&A,I=e.fillIcon,L=void 0===I?null:I,G=e.fillColor,F=e.fillColorArray,O=e.fillStyle,R=e.fillClassName,B=e.emptyIcon,W=void 0===B?null:B,$=e.emptyColor,z=e.emptyStyle,D=e.emptyClassName,H=e.allowTitleTag,q=e.showTooltip,U=e.tooltipDefaultText,X=e.tooltipArray,J=void 0===X?[]:X,K=e.tooltipStyle,Q=e.tooltipClassName,Y=e.SVGclassName,ee=void 0===Y?"star-svg":Y,et=e.titleSeparator,en=e.SVGstyle,ea=e.SVGstorkeWidth,ei=void 0===ea?0:ea,eo=e.SVGstrokeColor,er=void 0===eo?"currentColor":eo,es=i.useReducer(l,{hoverIndex:0,valueIndex:0,ratingValue:y,hoverValue:null}),el=es[0],ed=el.ratingValue,ec=el.hoverValue,eu=el.hoverIndex,ep=el.valueIndex,em=es[1];i.useEffect(function(){y&&em({type:"MouseClick",payload:0})},[y]);var ev=i.useMemo(function(){return S?2*h:h},[S,h]),ey=i.useMemo(function(){return y>ev?0:S||Math.floor(y)===y?Math.round(y/h*100):2*Math.ceil(y)*10},[S,y,h,ev]),ef=i.useMemo(function(){return(S?2*y-1:y-1)||0},[S,y]),eh=i.useCallback(function(e){return h%2!=0?e/2/10:e*h/100},[h]),ex=function(e){for(var t=e.clientX,n=e.currentTarget.children[0].getBoundingClientRect(),a=n.left,i=n.right,o=n.width,r=T?i-t:t-a,s=ev,l=Math.round(o/ev),d=0;d<=ev;d+=1)if(r<=l*d){s=0===d&&r<l?0:d;break}var c=s-1;s>0&&(em({type:"PointerMove",payload:100*s/ev,index:c}),u&&ec&&u(eh(ec),c,e))},eb=function(e){ec&&(em({type:"MouseClick",payload:ec}),c&&c(eh(ec),eu,e))},eg=i.useMemo(function(){if(P){if(V){var e=ed&&ed||ey;return ec&&ec>e?ec:e}return ec&&ec||ed&&ed||ey}return ed&&ed||ey},[P,V,ec,ed,ey]);i.useEffect(function(){J.length>ev&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[J.length,ev]);var ew=i.useCallback(function(e){return ec&&e[eu]||ed&&e[ep]||y&&e[ef]},[ec,eu,ed,ep,y,ef]),ej=i.useMemo(function(){return ec&&eh(ec)||ed&&eh(ed)||y&&eh(ey)},[ec,eh,ed,y,ey]);return a.jsxs("span",o({className:"style-module_starRatingWrap__q-lJC",style:{direction:"".concat(T?"rtl":"ltr")}},{children:[a.jsxs("span",o({className:"".concat("style-module_simpleStarRating__nWUxf"," ").concat(void 0===k?"react-simple-star-rating":k),style:o({cursor:w?"":"pointer"},_),onPointerMove:w?void 0:ex,onPointerEnter:w?void 0:function(e){p&&p(e),d()&&ex(e)},onPointerLeave:w?void 0:function(e){d()&&eb(),em({type:"PointerLeave"}),m&&m(e)},onClick:w?void 0:eb,"aria-hidden":"true"},{children:[a.jsx("span",o({className:"".concat("style-module_emptyIcons__Bg-FZ"," ").concat(void 0===D?"empty-icons":D),style:o({color:void 0===$?"#cccccc":$},z)},{children:r([],Array(h),!0).map(function(e,t){var n;return a.jsx(i.Fragment,{children:(null===(n=N[t])||void 0===n?void 0:n.icon)||W||a.jsx(s,{SVGclassName:ee,SVGstyle:en,SVGstorkeWidth:ei,SVGstrokeColor:er,size:b})},t)})})),a.jsx("span",o({className:"".concat("style-module_fillIcons__6---A"," ").concat(void 0===R?"filled-icons":R),style:o(((t={})[T?"right":"left"]=0,t.color=ew(void 0===F?[]:F)||(void 0===G?"#ffbc0b":G),t.transition=void 0!==E&&E?"width .2s ease, color .2s ease":"",t.width="".concat(eg,"%"),t),O),title:void 0===H||H?"".concat(ej," ").concat(void 0===et?"out of":et," ").concat(h):void 0},{children:r([],Array(h),!0).map(function(e,t){var n;return a.jsx(i.Fragment,{children:(null===(n=N[t])||void 0===n?void 0:n.icon)||L||a.jsx(s,{SVGclassName:ee,SVGstyle:en,SVGstorkeWidth:ei,SVGstrokeColor:er,size:b})},t)})}))]})),void 0!==q&&q&&a.jsx("span",o({className:"".concat("style-module_tooltip__tKc3i"," ").concat(void 0===Q?"react-simple-star-rating-tooltip":Q),style:o(((n={})[T?"marginRight":"marginLeft"]=20,n),K)},{children:(J.length>0?ew(J):ej)||(void 0===U?"Your Rate":U)}))]}))}}},function(e){e.O(0,[543,774,888,179],function(){return e(e.s=8535)}),_N_E=e.O()}]);