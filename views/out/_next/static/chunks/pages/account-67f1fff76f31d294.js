(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{4641:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return s(3479)}])},5912:function(e,n){"use strict";var s,r;(r=s||(s={})).POST="POST",r.GET="GET",r.PATCH="PATCH",r.PUT="PUT",r.DELETE="DELETE",r.OPTIONS="OPTIONS",n.Z=s},9039:function(e,n,s){"use strict";var r=s(6154),t=s(8767),a=s(1163),i=s(6501),c=s(8893);n.Z=function(e,n,s,l){let o=(0,a.useRouter)(),d=async()=>{let{data:e}=await (0,r.Z)({method:s,url:n,data:l});return e},{data:h,isLoading:u}=(0,t.useQuery)(e,()=>d(),{enabled:!0,refetchOnWindowFocus:!0,refetchInterval:6e4,retry:3,retryDelay:2500,onError(n){n.response&&401===n.response.status&&(localStorage.removeItem("accessToken"),o.push("/")),i.Am.error("".concat(c.Z.ToastError," fetching ").concat(e))}});return{data:h,isLoading:u}}},3479:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return O}});var r=s(5893),t=s(7294),a=s(5309),i=s(6154),c=s(9063),l=s(6501),o=s(1163),d=s(8893);let h=()=>{let e=(0,o.useRouter)(),n=()=>{localStorage.removeItem("accessToken"),e.push("/")},s=async()=>{try{await i.Z.post(c.Z.signOutEndpoint),localStorage.removeItem("accessToken"),e.push("/")}catch(e){l.Am.error(d.Z.ToastError)}};return{signOutFromThisDevice:n,signOutFromAllDevices:s}};var u=s(381),x=s.n(u),m=s(7891),j=s(682),p=s(4184),v=s.n(p),f=s(6792);let T=t.forwardRef(({bsPrefix:e,className:n,striped:s,bordered:t,borderless:a,hover:i,size:c,variant:l,responsive:o,...d},h)=>{let u=(0,f.vE)(e,"table"),x=v()(n,u,l&&`${u}-${l}`,c&&`${u}-${c}`,s&&`${u}-${"string"==typeof s?`striped-${s}`:"striped"}`,t&&`${u}-bordered`,a&&`${u}-borderless`,i&&`${u}-hover`),m=(0,r.jsx)("table",{...d,className:x,ref:h});if(o){let e=`${u}-responsive`;return"string"==typeof o&&(e=`${e}-${o}`),(0,r.jsx)("div",{className:e,children:m})}return m});var E=s(1664),N=s.n(E),g=s(9548),b=s(9039),Z=s(5912);let w=()=>{var e,n,s,i;let[{userState:l}]=(0,t.useContext)(a.k),o=h(),u=(0,b.Z)("transactions",c.Z.getTransactionsEndpoint,Z.Z.POST),p=null==u?void 0:null===(e=u.data)||void 0===e?void 0:null===(n=e.transactions)||void 0===n?void 0:n.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{children:[e.transactionType," ELT"]}),(0,r.jsxs)("td",{children:[e.eltAmount," ELT"]}),(0,r.jsxs)("td",{children:[e.ethAmount," ETH"]}),(0,r.jsx)("td",{children:x()(e.date).format("MMM, Do YYYY, h:mm a")}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{href:"".concat(c.Z.etherScanEndpoint,"/").concat(e.txHash),target:"_blank",rel:"noopener noreferrer",className:"link-table",children:"View on EtherScan"})})]},e._id));return(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)(m.Z,{condition:!u.isLoading,children:(0,r.jsxs)(j.Z,{children:[(0,r.jsxs)("div",{className:"jumbotron mt-4 pl-5",children:[(0,r.jsx)("p",{className:"display-6",children:"Account"}),(0,r.jsxs)("div",{className:"info",children:[(0,r.jsxs)("p",{className:"lead",children:["Signed in as ",l.name]}),(0,r.jsx)("p",{className:"lead",children:d.Z.Info}),(0,r.jsx)("p",{className:"lead",children:d.Z.Warning}),(0,r.jsxs)(N(),{href:"/eltswap",className:"btn chip",children:["Swap ELT",(0,r.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,r.jsxs)("button",{className:"btn chip ",onClick:o.signOutFromThisDevice,children:["Sign Out",(0,r.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,r.jsx)("br",{}),(0,r.jsxs)("button",{className:"btn chip ",onClick:o.signOutFromAllDevices,children:["Sign Out From All Devices",(0,r.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]}),(0,r.jsxs)(m.Z,{condition:(null==u?void 0:null===(s=u.data)||void 0===s?void 0:null===(i=s.transactions)||void 0===i?void 0:i.length)>0,children:[(0,r.jsx)("p",{className:"lead text-center text-white mb-4",children:"Transactions"}),(0,r.jsxs)(T,{responsive:!0,hover:!0,variant:"dark",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Event"}),(0,r.jsx)("th",{children:"ELT Amount"}),(0,r.jsx)("th",{children:"ETH Amount"}),(0,r.jsx)("th",{children:"Transaction Time"}),(0,r.jsx)("th",{children:"EtherScan Link"})]})}),(0,r.jsx)("tbody",{children:p})]})]})]})}),(0,r.jsx)(m.Z,{condition:u.isLoading,children:(0,r.jsx)(g.Z,{})})]})};var O=w}},function(e){e.O(0,[885,774,888,179],function(){return e(e.s=4641)}),_N_E=e.O()}]);