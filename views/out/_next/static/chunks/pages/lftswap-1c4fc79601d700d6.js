(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{3064:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lftswap",function(){return n(6500)}])},3700:function(e,t){"use strict";var n,a;(a=n||(n={})).tokenContractAddress="0x25ce8BBB3E1840594F87812b2a8667501213c2dE",a.vendorContractAddress="0x314Bd829363497168E2A6092969baf522dd84608",a.nftContractAddress="0xDC98C07e6A73ce3F0B29a84AEEe98DE4511f33c5",t.Z=n},1730:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintCustomAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},6500:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(5893),s=n(7294),i=n(4119),r=n(1358),o=n(1120),l=n(1730);let d=[{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amountOfETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOfTokens",type:"uint256"}],name:"BuyTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buyTokens",outputs:[{internalType:"uint256",name:"tokenAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenAmountToSell",type:"uint256"}],name:"sellTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokensPerETH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var c=n(7918),u=n.n(c),p=n(6154),y=n(3700),m=n(9063),x=n(6501),f=n(8893);let h=new(u())(u().givenProvider),b=()=>{let[e,t]=(0,s.useState)(""),[n,c]=(0,s.useState)(0),[u,b]=(0,s.useState)(""),[T,j]=(0,s.useState)(1),[w,N]=(0,s.useState)(!1),[v,k]=(0,s.useState)("");(0,s.useEffect)(()=>{c(Number(e)/1e4)},[e]);let A=async e=>{try{if(void 0!==window.ethereum)try{let t=await window.ethereum.request({method:"eth_requestAccounts"});b(t[0]),k(e)}catch(e){x.Am.error(f.Z.MetaMaskConnectionError)}else x.Am.error(f.Z.MetamaskInstallNotification)}catch(e){x.Am.error(f.Z.MetamaskInstallNotification)}},Z=async()=>{try{j(2);let t=new h.eth.Contract(d,y.Z.vendorContractAddress),a=await t.methods.buyTokens().send({from:u,value:h.utils.toWei(n.toString(),"ether")}),s={fromAddress:a.from||"0x",transactionType:"Buy",lftAmount:e,ethAmount:n,txHash:a.transactionHash};await p.Z.post(m.Z.createTransactionEndpoint,s),j(3),x.Am.success(f.Z.TokenPurchaseSuccess)}catch(e){N(!0),j(3),x.Am.error(f.Z.TokenPurchaseFailure)}},g=async()=>{try{j(2);let t=await h.eth.getAccounts(),a=new h.eth.Contract(l.r,y.Z.tokenContractAddress),s=await a.methods.approve(y.Z.vendorContractAddress,h.utils.toWei(e,"ether")).send({from:t[0]}),i=new h.eth.Contract(d,y.Z.vendorContractAddress);s=await i.methods.sellTokens(h.utils.toWei(e,"ether")).send({from:t[0]});let r={fromAddress:s.from||"0x",transactionType:"Sell",lftAmount:e,ethAmount:n,txHash:s.transactionHash};await p.Z.post(m.Z.createTransactionEndpoint,r),j(3),x.Am.success(f.Z.TokenSellSuccess)}catch(e){N(!0),j(3),x.Am.error(f.Z.TokenSellFailure)}};return(0,a.jsx)(s.Fragment,{children:(0,a.jsxs)("div",{className:"box",children:[(0,a.jsxs)(o.Z,{condition:""===u,children:[(0,a.jsx)("p",{className:"branding",children:"Swap LFT"}),(0,a.jsxs)("button",{className:"btn btn-block",onClick:()=>A("buy"),children:["Buy LFT",(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-up"})]}),(0,a.jsxs)("button",{className:"btn btn-block",onClick:()=>A("sell"),children:["Sell LFT",(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-down"})]})]}),(0,a.jsxs)(o.Z,{condition:""!==u,children:[(0,a.jsxs)(o.Z,{condition:"buy"===v,children:[(0,a.jsxs)(o.Z,{condition:1===T,children:[(0,a.jsx)("p",{className:"branding",children:"Buy LFT"}),(0,a.jsx)(i.Z,{controlId:"floatingAmount",label:"Amount of tokens",children:(0,a.jsx)(r.Z.Control,{autoFocus:!0,type:"email",placeholder:"Amount of tokens",onChange:e=>t(e.target.value),required:!0})}),(0,a.jsxs)("p",{id:"alert",children:["ETH equivalent: ",n]}),(0,a.jsxs)("button",{className:"btn btn-block",onClick:Z,children:["Buy",(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]}),(0,a.jsxs)(o.Z,{condition:2===T,children:[(0,a.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin text-center fa-4x color-gold"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Processing"})]})]}),(0,a.jsxs)(o.Z,{condition:3===T,children:[(0,a.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,a.jsx)(o.Z,{condition:!w,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-check fa-4x"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Success"})]})}),(0,a.jsx)(o.Z,{condition:w,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-xmark fa-4x"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Failed"})]})})]})]}),(0,a.jsxs)(o.Z,{condition:"sell"===v,children:[(0,a.jsxs)(o.Z,{condition:1===T,children:[(0,a.jsx)("p",{className:"branding",children:"Sell LFT"}),(0,a.jsx)(i.Z,{controlId:"floatingAmount",label:"Amount of tokens",children:(0,a.jsx)(r.Z.Control,{autoFocus:!0,type:"email",placeholder:"Amount of tokens",onChange:e=>t(e.target.value),required:!0})}),(0,a.jsxs)("p",{id:"alert",children:["ETH equivalent: ",n]}),(0,a.jsxs)("button",{className:"btn btn-block",onClick:g,children:["Sell",(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]}),(0,a.jsxs)(o.Z,{condition:2===T,children:[(0,a.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin text-center fa-4x color-gold"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Processing"})]})]}),(0,a.jsxs)(o.Z,{condition:3===T,children:[(0,a.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,a.jsx)(o.Z,{condition:!w,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-check fa-4x"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Success"})]})}),(0,a.jsx)(o.Z,{condition:w,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-xmark fa-4x"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Failed"})]})})]})]})]})]})})};var T=b}},function(e){e.O(0,[543,774,888,179],function(){return e(e.s=3064)}),_N_E=e.O()}]);