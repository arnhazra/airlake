(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{2304:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return n(5235)}])},8893:function(e,t){"use strict";var n,a;(a=n||(n={})).HomeTop="Empowering Innovation Together",a.HomeHeader1="Build better models,",a.HomeHeader2="with the diverse",a.HomeHeader3="ledger of datasets",a.HomeIntro1="Maximize your data-driven insights with datasets",a.HomeIntro2="Find the perfect dataset for your needs, get started now",a.HomeFooter="#BUILTOnEthereum",a.Info="To Add LST in your Metamask wallet, switch to Goerli Test Network and Import Token 0x9d46e816e10c6353Fcf7381343b053117641d472",a.Warning="Do not use mainnet ethers to buy LST, it is just an implementation POC for ERC-20 standard.",a.ConnectionErrorMessage="Connection Error",a.AuthMessage="Securely Authenticating",a.ErrorMessage="404, Lost",t.Z=n},5235:function(e,t,n){"use strict";n.r(t);var a=n(5893),s=n(7294),o=n(6154),r=n(4119),i=n(1358),c=n(8893),l=n(7891),u=n(9063),d=n(1163);let h=()=>{let[e,t]=(0,s.useState)({firststep:!0,secondstep:!1}),[n,h]=(0,s.useState)({name:"",email:"",hash:"",otp:"",newuser:!1}),[m,p]=(0,s.useState)(""),[f,g]=(0,s.useState)(!1),x=(0,d.useRouter)(),b=async e=>{e.preventDefault(),p(c.Z.AuthMessage),g(!0);try{let e=await o.Z.post(u.Z.generateAuthCodeEndpoint,n);h({...n,hash:e.data.hash,newuser:e.data.newuser}),p(e.data.msg),t({firststep:!1,secondstep:!0}),g(!1)}catch(e){p(c.Z.ConnectionErrorMessage),g(!1)}},w=async e=>{e.preventDefault(),p(c.Z.AuthMessage),g(!0);try{let e=await o.Z.post(u.Z.verifyAuthCodeEndpoint,n);localStorage.setItem("accessToken",e.data.accessToken),p("Successfully authenticated"),g(!1),x.push("/datasetlibrary")}catch(e){e.response?(p(e.response.data.msg),g(!1)):(p(c.Z.ConnectionErrorMessage),g(!1))}};return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(l.Z,{condition:e.firststep,children:(0,a.jsxs)("form",{className:"box",onSubmit:b,children:[(0,a.jsx)("p",{className:"branding",children:"Lenstack Auth"}),(0,a.jsx)("p",{className:"boxtext",children:"Enter the email address where you can be contacted. This email address will be used for authentication."}),(0,a.jsx)(r.Z,{controlId:"floatingEmail",label:"Your Email",children:(0,a.jsx)(i.Z.Control,{autoFocus:!0,type:"email",placeholder:"Your Email",onChange:e=>h({...n,email:e.target.value}),required:!0,autoComplete:"off",minLength:4,maxLength:40})}),(0,a.jsx)("p",{id:"alert",children:m}),(0,a.jsxs)("button",{type:"submit",className:"mt-2 btn btnbox",children:["Continue to Lenstack ",f?(0,a.jsx)("i",{className:"fas fa-circle-notch fa-spin"}):(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),(0,a.jsx)("br",{})]})}),(0,a.jsx)(l.Z,{condition:e.secondstep,children:(0,a.jsxs)("form",{className:"box",onSubmit:w,children:[(0,a.jsx)("p",{className:"branding",children:"Lenstack Auth"}),(0,a.jsx)("p",{className:"boxtext",children:"Please verify your identity by entering the auth code we sent to your inbox. Once you've entered the code, you can continue using our services."}),(0,a.jsx)(l.Z,{condition:n.newuser,children:(0,a.jsx)(r.Z,{controlId:"floatingName",label:"Your Name",children:(0,a.jsx)(i.Z.Control,{type:"text",placeholder:"Your Name",onChange:e=>h({...n,name:e.target.value}),required:!0,autoComplete:"off",minLength:3,maxLength:40})})}),(0,a.jsx)(r.Z,{controlId:"floatingPassword",label:"Enter Auth Code",children:(0,a.jsx)(i.Z.Control,{type:"password",name:"otp",placeholder:"Enter Auth Code",onChange:e=>h({...n,otp:e.target.value}),required:!0,autoComplete:"off",minLength:6,maxLength:6})}),(0,a.jsx)("p",{id:"alert",children:m}),(0,a.jsxs)("button",{type:"submit",className:"mt-2 btn btnbox",children:[n.newuser?"Set up the account":"Continue to the app"," ",f?(0,a.jsx)("i",{className:"fas fa-circle-notch fa-spin"}):(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})})]})};t.default=h}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2304)}),_N_E=e.O()}]);