(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{6414:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataplatform",function(){return s(3650)}])},5930:function(e,t,s){"use strict";s.d(t,{Z:function(){return _}});var a=s(5893),r=s(1555),n=s(4184),l=s.n(n),o=s(7294),i=s(6792),c=s(6611),d=s(9602);let u=o.forwardRef(({bsPrefix:e,className:t,variant:s,as:r="img",...n},o)=>{let c=(0,i.vE)(e,"card-img");return(0,a.jsx)(r,{ref:o,className:l()(s?`${c}-${s}`:c,t),...n})});u.displayName="CardImg";var m=s(9059);let f=o.forwardRef(({bsPrefix:e,className:t,as:s="div",...r},n)=>{let c=(0,i.vE)(e,"card-header"),d=(0,o.useMemo)(()=>({cardHeaderBsPrefix:c}),[c]);return(0,a.jsx)(m.Z.Provider,{value:d,children:(0,a.jsx)(s,{ref:n,...r,className:l()(t,c)})})});f.displayName="CardHeader";let x=(0,d.Z)("h5"),p=(0,d.Z)("h6"),h=(0,c.Z)("card-body"),j=(0,c.Z)("card-title",{Component:x}),v=(0,c.Z)("card-subtitle",{Component:p}),g=(0,c.Z)("card-link",{Component:"a"}),Z=(0,c.Z)("card-text",{Component:"p"}),N=(0,c.Z)("card-footer"),w=(0,c.Z)("card-img-overlay"),b=o.forwardRef(({bsPrefix:e,className:t,bg:s,text:r,border:n,body:o,children:c,as:d="div",...u},m)=>{let f=(0,i.vE)(e,"card");return(0,a.jsx)(d,{ref:m,...u,className:l()(t,f,s&&`bg-${s}`,r&&`text-${r}`,n&&`border-${n}`),children:o?(0,a.jsx)(h,{children:c}):c})});b.displayName="Card",b.defaultProps={body:!1};var C=Object.assign(b,{Img:u,Title:j,Subtitle:v,Body:h,Link:g,Text:Z,Header:f,Footer:N,ImgOverlay:w}),y=s(1664),S=s.n(y);let E=e=>{let{id:t,category:s,name:n,price:l}=e;return(0,a.jsx)(r.Z,{xs:6,sm:6,md:4,lg:3,xl:2,className:"mb-4",children:(0,a.jsx)(S(),{href:"/viewdataset?id=".concat(t),children:(0,a.jsxs)(C,{children:[(0,a.jsx)(C.Header,{className:"pt-3",children:(0,a.jsx)("div",{className:"".concat(s.toLowerCase(),"Container pt-4")})}),(0,a.jsxs)(C.Footer,{className:"pt-4 pb-2 ps-4 ".concat(s.toLowerCase(),"Color"),children:[(0,a.jsx)("div",{className:"nameContainer",children:(0,a.jsx)("p",{className:"lead",children:n})}),(0,a.jsx)("p",{className:"smalltext",children:s})]})]})})})};var _=E},3650:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(5893),r=s(7294),n=s(682),l=s(4051),o=s(9548),i=s(7891),c=s(6154),d=s(6501),u=s(1163),m=s(9063),f=s(8893);let x=e=>{let{searchQuery:t,selectedFilter:s,selectedSortOption:a,offset:n}=e,[l,o]=(0,r.useState)({datasets:[],isLoaded:!1}),i=(0,u.useRouter)();return(0,r.useEffect)(()=>{(async()=>{try{let e=await c.Z.post(m.Z.dataplatformEndpoint,{selectedSortOption:a,selectedFilter:s,searchQuery:t,offset:n});o({datasets:e.data.datasets,isLoaded:!0})}catch(e){e.response&&401===e.response.status&&(localStorage.removeItem("accessToken"),i.push("/")),o({...l,isLoaded:!0}),d.ZP.error(f.Z.ToastError)}})()},[a,s,t,n]),l};var p=s(5309),h=s(1555),j=s(4119),v=s(1358),g=s(8767),Z=function(e,t,s,a){let r=(0,u.useRouter)(),n=async()=>{let{data:e}=await (0,c.Z)(t,{method:s,params:a});return e},{data:l,isLoading:o}=(0,g.useQuery)(e,()=>n(),{enabled:!0,retry:3,refetchOnWindowFocus:!1,retryDelay:2500,onError(t){t.response&&401===t.response.status&&(localStorage.removeItem("accessToken"),r.push("/")),d.Am.error("".concat(f.Z.ToastError," fetching ").concat(e))}});return{data:l,isLoading:o}};let N=()=>{var e,t;let s=Z("filters",m.Z.datasetFiltersEndpoint,"POST"),[{datasetRequestState:n},c]=(0,r.useContext)(p.k),d=null==s?void 0:null===(e=s.data)||void 0===e?void 0:null===(t=e.filterCategories)||void 0===t?void 0:t.map(e=>(0,a.jsx)("option",{className:"options",value:e,children:e},e));return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.Z,{condition:!(null==s?void 0:s.isLoading),children:(0,a.jsxs)(l.Z,{className:"g-2 mt-4",children:[(0,a.jsx)(h.Z,{xs:12,sm:12,md:6,lg:4,xl:3,children:(0,a.jsx)(j.Z,{controlId:"floatingSelectGrid",label:"Select Filter Category",children:(0,a.jsx)(v.Z.Select,{defaultValue:n.selectedFilter,onChange:e=>c("setDatasetRequestState",{selectedFilter:e.target.value}),children:d})})}),(0,a.jsx)(h.Z,{xs:12,sm:12,md:6,lg:4,xl:3,children:(0,a.jsx)(j.Z,{controlId:"floatingSelectGrid",label:"Sort By",children:(0,a.jsxs)(v.Z.Select,{defaultValue:n.selectedSortOption,onChange:e=>c("setDatasetRequestState",{selectedSortOption:e.target.value}),children:[(0,a.jsx)("option",{className:"options",value:"-_id",children:"Dataset Freshness"},"freshness"),(0,a.jsx)("option",{className:"options",value:"name",children:"Name Ascending"},"nameAscending"),(0,a.jsx)("option",{className:"options",value:"-name",children:"Name Descending"},"nameDescending"),(0,a.jsx)("option",{className:"options",value:"price",children:"Price Ascending"},"priceAscending"),(0,a.jsx)("option",{className:"options",value:"-price",children:"Price Descending"},"priceDescending")]})})})]})}),(0,a.jsx)(i.Z,{condition:null==s?void 0:s.isLoading,children:(0,a.jsx)(o.Z,{})})]})};var w=s(5930);let b=()=>{let[{datasetRequestState:e},t]=(0,r.useContext)(p.k),s=x(e),c=s.datasets.map(e=>(0,a.jsx)(w.Z,{id:e._id,category:e.category,name:e.name,price:e.price},e._id)),d=()=>{let s=e.offset-24;t("setDatasetRequestState",{offset:s}),window.scrollTo(0,0)},u=()=>{let s=e.offset+24;t("setDatasetRequestState",{offset:s}),window.scrollTo(0,0)};return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.Z,{condition:s.isLoaded,children:(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(N,{}),(0,a.jsx)(l.Z,{className:"mt-4 mb-4",children:c}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("button",{className:"btn",onClick:d,disabled:0===e.offset,children:(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-left"})}),(0,a.jsx)("button",{className:"btn",onClick:u,disabled:24!==s.datasets.length,children:(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})})]})]})}),(0,a.jsx)(i.Z,{condition:!s.isLoaded,children:(0,a.jsx)(o.Z,{})})]})};var C=b},4051:function(e,t,s){"use strict";var a=s(4184),r=s.n(a),n=s(7294),l=s(6792),o=s(5893);let i=n.forwardRef(({bsPrefix:e,className:t,as:s="div",...a},n)=>{let i=(0,l.vE)(e,"row"),c=(0,l.pi)(),d=(0,l.zG)(),u=`${i}-cols`,m=[];return c.forEach(e=>{let t;let s=a[e];delete a[e],null!=s&&"object"==typeof s?{cols:t}=s:t=s;let r=e!==d?`-${e}`:"";null!=t&&m.push(`${u}${r}-${t}`)}),(0,o.jsx)(s,{ref:n,...a,className:r()(t,i,...m)})});i.displayName="Row",t.Z=i}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6414)}),_N_E=e.O()}]);