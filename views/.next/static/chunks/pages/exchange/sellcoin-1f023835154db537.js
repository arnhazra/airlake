(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{5908:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/exchange/sellcoin",function(){return n(8120)}])},3700:function(e,t){"use strict";var n,a;(a=n||(n={})).tokenContractAddress="0x9d46e816e10c6353Fcf7381343b053117641d472",a.vendorContractAddress="0xeF98846BF1e7F5f8c380F481701763650021A5d4",t.Z=n},2291:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},4833:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});let a=[{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amountOfETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOfTokens",type:"uint256"}],name:"BuyTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buyTokens",outputs:[{internalType:"uint256",name:"tokenAmount",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenAmountToSell",type:"uint256"}],name:"sellTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokensPerETH",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferToken",outputs:[],stateMutability:"nonpayable",type:"function"}]},8120:function(e,t,n){"use strict";n.r(t);var a=n(5893),s=n(7294),i=n(4119),r=n(1358),o=n(7891),u=n(2291),l=n(4833),p=n(7918),d=n.n(p),c=n(6154),y=n(3700),m=n(9063),f=n(6501);let b=new(d())(d().givenProvider),T=()=>{let[e,t]=(0,s.useState)(""),[n,p]=(0,s.useState)(0),[d,T]=(0,s.useState)(""),[x,h]=(0,s.useState)(1),[w,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{p(Number(e)/1e4)},[e]);let j=async()=>{try{if(void 0!==window.ethereum)try{let e=await window.ethereum.request({method:"eth_requestAccounts"});T(e[0])}catch(e){f.Am.error("Unable to connect to metamask")}else f.Am.error("Please install metamask")}catch(e){f.Am.error("Please install metamask")}},k=async()=>{try{h(2);let t=await b.eth.getAccounts(),a=new b.eth.Contract(u.r,y.Z.tokenContractAddress),s=await a.methods.approve(y.Z.vendorContractAddress,b.utils.toWei(e,"ether")).send({from:t[0]}),i=new b.eth.Contract(l.C,y.Z.vendorContractAddress);s=await i.methods.sellTokens(b.utils.toWei(e,"ether")).send({from:t[0]});let r={fromAddress:s.from||"0x",transactionType:"Sell",lstAmount:e,ethAmount:n,txHash:s.transactionHash};await c.Z.post(m.Z.createTxEndpoint,r),h(3),f.Am.success("You have successfully sold LST tokens!")}catch(e){v(!0),h(3),f.Am.error("Error selling LST tokens")}};return(0,a.jsx)(s.Fragment,{children:(0,a.jsxs)("div",{className:"box",children:[(0,a.jsxs)(o.Z,{condition:""!==d,children:[(0,a.jsxs)(o.Z,{condition:1===x,children:[(0,a.jsx)("p",{className:"branding",children:"Sell LST"}),(0,a.jsx)(i.Z,{controlId:"floatingAmount",label:"Amount of tokens",children:(0,a.jsx)(r.Z.Control,{autoFocus:!0,type:"email",placeholder:"Amount of tokens",onChange:e=>t(e.target.value),required:!0})}),(0,a.jsxs)("p",{id:"alert",children:["ETH equivalent: ",n]}),(0,a.jsxs)("button",{className:"btn btnbox",onClick:k,children:["Sell",(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]}),(0,a.jsxs)(o.Z,{condition:2===x,children:[(0,a.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin text-center fa-6x"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Processing"})]})]}),(0,a.jsxs)(o.Z,{condition:3===x,children:[(0,a.jsx)("p",{className:"branding",children:"Transaction Status"}),(0,a.jsx)(o.Z,{condition:!w,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-check fa-6x"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Success"})]})}),(0,a.jsx)(o.Z,{condition:w,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-xmark fa-6x"}),(0,a.jsx)("p",{className:"lead text-center mt-4",children:"Failed"})]})})]})]}),(0,a.jsxs)(o.Z,{condition:""===d,children:[(0,a.jsx)("p",{className:"branding",children:"Connect Wallet"}),(0,a.jsxs)("button",{className:"btn btnbox",onClick:j,children:["Connect to Metamask",(0,a.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]})]})})};t.default=T}},function(e){e.O(0,[543,774,888,179],function(){return e(e.s=5908)}),_N_E=e.O()}]);