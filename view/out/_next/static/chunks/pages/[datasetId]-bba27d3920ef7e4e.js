(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{2889:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[datasetId]",function(){return a(9927)}])},5930:function(e,t,a){"use strict";a.d(t,{Z:function(){return k}});var n=a(5893),s=a(1555),r=a(4184),i=a.n(r),o=a(7294),d=a(6792),c=a(6611),l=a(9602);let u=o.forwardRef(({bsPrefix:e,className:t,variant:a,as:s="img",...r},o)=>{let c=(0,d.vE)(e,"card-img");return(0,n.jsx)(s,{ref:o,className:i()(a?`${c}-${a}`:c,t),...r})});u.displayName="CardImg";var p=a(9059);let m=o.forwardRef(({bsPrefix:e,className:t,as:a="div",...s},r)=>{let c=(0,d.vE)(e,"card-header"),l=(0,o.useMemo)(()=>({cardHeaderBsPrefix:c}),[c]);return(0,n.jsx)(p.Z.Provider,{value:l,children:(0,n.jsx)(a,{ref:r,...s,className:i()(t,c)})})});m.displayName="CardHeader";let y=(0,l.Z)("h5"),b=(0,l.Z)("h6"),h=(0,c.Z)("card-body"),f=(0,c.Z)("card-title",{Component:y}),x=(0,c.Z)("card-subtitle",{Component:b}),w=(0,c.Z)("card-link",{Component:"a"}),v=(0,c.Z)("card-text",{Component:"p"}),j=(0,c.Z)("card-footer"),g=(0,c.Z)("card-img-overlay"),T=o.forwardRef(({bsPrefix:e,className:t,bg:a,text:s,border:r,body:o,children:c,as:l="div",...u},p)=>{let m=(0,d.vE)(e,"card");return(0,n.jsx)(l,{ref:p,...u,className:i()(t,m,a&&`bg-${a}`,s&&`text-${s}`,r&&`border-${r}`),children:o?(0,n.jsx)(h,{children:c}):c})});T.displayName="Card",T.defaultProps={body:!1};var N=Object.assign(T,{Img:u,Title:f,Subtitle:x,Body:h,Link:w,Text:v,Header:m,Footer:j,ImgOverlay:g}),Z=a(1664),E=a.n(Z);let S=e=>{let{id:t,category:a,name:r,price:i}=e;return(0,n.jsx)(s.Z,{xs:12,sm:12,md:6,lg:4,xl:3,className:"mb-4",children:(0,n.jsx)(E(),{href:"/".concat(t),children:(0,n.jsxs)(N,{children:[(0,n.jsx)(N.Header,{className:"pt-3",children:(0,n.jsx)("div",{className:"".concat(a.toLowerCase(),"Container pt-4")})}),(0,n.jsxs)(N.Footer,{className:"pt-4 pb-2 ps-4",children:[(0,n.jsx)("p",{className:"lead",children:r}),(0,n.jsx)("p",{className:"smalltext",children:a}),(0,n.jsx)("button",{className:"chip",children:0===i?"FREE":i+" FLG"}),(0,n.jsx)("br",{})]})]})})})};var k=S},7468:function(e,t,a){"use strict";var n=a(5893),s=a(8893);let r=e=>{let{customMessage:t}=e;return(0,n.jsxs)("div",{className:"box text-center",children:[(0,n.jsx)("p",{className:"branding mb-4",children:t||s.Z.ErrorMessage}),(0,n.jsx)("i",{className:"fa-solid fa-circle-exclamation fa-4x"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("button",{onClick:()=>window.history.back(),className:"btn mt-2 btnbox",children:[(0,n.jsx)("i",{className:"fa-solid fa-circle-arrow-left"}),"Go Back"]})]})};t.Z=r},3700:function(e,t){"use strict";var a,n;(n=a||(a={})).tokenContractAddress="0x9d46e816e10c6353Fcf7381343b053117641d472",n.vendorContractAddress="0xeF98846BF1e7F5f8c380F481701763650021A5d4",t.Z=a},8893:function(e,t){"use strict";var a,n;(n=a||(a={})).HomeTop="Empowering Innovation Together",n.HomeHeader1="Build better models,",n.HomeHeader2="with the diverse",n.HomeHeader3="ledger of datasets",n.HomeIntro1="Maximize your data-driven insights with datasets",n.HomeIntro2="Find the perfect dataset for your needs, get started now",n.HomeFooter="#BUILTOnEthereum",n.Info="To Add LST in your Metamask wallet, switch to Goerli Test Network and Import Token 0x9d46e816e10c6353Fcf7381343b053117641d472",n.Warning="Do not use mainnet ethers to buy LST, it is just an implementation POC for ERC-20 standard.",n.ConnectionErrorMessage="Connection Error",n.AuthMessage="Securely Authenticating",n.ErrorMessage="404, Lost",t.Z=a},2291:function(e,t,a){"use strict";a.d(t,{r:function(){return n}});let n=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},9927:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var n=a(5893),s=a(1163),r=a(7294),i=a(682),o=a(4051),d=a(7918),c=a.n(d),l=a(9548),u=a(7468),p=a(7891),m=a(6154),y=a(9063);let b=e=>{let{id:t}=e,[a,n]=(0,r.useState)({id:"",name:"",description:"",category:"",price:0,dataLength:0,isLoaded:!1,hasError:!1}),i=(0,s.useRouter)(),o=async()=>{try{let e=await m.Z.post("".concat(y.Z.datasetViewEndpoint,"/").concat(t)),{_id:s,name:r,description:i,category:o,price:d}=e.data.metadata;n({...a,id:s,name:r,description:i,category:o,price:d,dataLength:e.data.dataLength,isLoaded:!0})}catch(e){401===e.response.status?(localStorage.removeItem("accessToken"),i.push("/")):n({...a,isLoaded:!0,hasError:!0})}};return(0,r.useEffect)(()=>{n({...a,isLoaded:!1}),o()},[t]),a};var h=a(6501);let f=e=>{let{id:t,hasClickedSubscribed:a}=e,[n,i]=(0,r.useState)({isSubscribed:!1,subscriptionId:"",isLoaded:!1}),o=(0,s.useRouter)();return(0,r.useEffect)(()=>{(async()=>{try{let e=await m.Z.post("".concat(y.Z.checkSubscriptionEndpoint,"/").concat(t));i({isSubscribed:e.data.isSubscribed,subscriptionId:e.data.subscriptionId,isLoaded:!0})}catch(e){401===e.response.status?(localStorage.removeItem("accessToken"),o.push("/")):(i({...n,isLoaded:!0}),h.Am.error("Something went wrong"))}})()},[t,a]),n},x=e=>{let{id:t}=e,[a,n]=(0,r.useState)({similarDatasets:[],isLoaded:!1}),i=(0,s.useRouter)(),o=async()=>{try{let e=await m.Z.post("".concat(y.Z.findsimilarDatasets,"/").concat(t));n({...a,similarDatasets:e.data.similarDatasets,isLoaded:!0})}catch(e){401===e.response.status?(localStorage.removeItem("accessToken"),i.push("/")):(n({...a,isLoaded:!0}),h.ZP.error("Something went wrong"))}};return(0,r.useEffect)(()=>{o()},[]),a};var w=a(2291),v=a(3700),j=a(5930);let g=new(c())(c().givenProvider),T=()=>{let[e,t]=(0,r.useState)(!1),a=(0,s.useRouter)(),{datasetId:d}=a.query,c=b({id:d}),T=f({id:d,hasClickedSubscribed:e}),N=x({id:d}),[Z,E]=(0,r.useState)(""),S=async()=>{if(0===c.price)try{await m.Z.post("".concat(y.Z.subscribeEndpoint,"/").concat(d)),t(!0)}catch(e){h.Am.error("Something went wrong")}else try{if(void 0!==window.ethereum)try{let e=await window.ethereum.request({method:"eth_requestAccounts"});E(e[0]);let a=new g.eth.Contract(w.r,v.Z.tokenContractAddress);await a.methods.transfer(v.Z.tokenContractAddress,g.utils.toWei(c.price.toString(),"ether")).send({from:Z}),await m.Z.post("".concat(y.Z.subscribeEndpoint,"/").concat(d)),t(!0)}catch(e){h.Am.error("Unable to connect to metamask")}else h.Am.error("Please install metamask")}catch(e){h.Am.error("Please install metamask")}},k=N.similarDatasets.map(e=>(0,n.jsx)(j.Z,{id:e._id,category:e.category,name:e.name,price:e.price},e._id));return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsxs)(p.Z,{condition:c.isLoaded&&T.isLoaded,children:[(0,n.jsx)(p.Z,{condition:!c.hasError,children:(0,n.jsxs)(i.Z,{className:"mt-4",children:[(0,n.jsxs)("div",{className:"jumbotron",children:[(0,n.jsx)("p",{className:"display-4 text-capitalize",children:c.name}),(0,n.jsx)("p",{className:"smalltext",children:c.description}),(0,n.jsxs)("div",{className:"chip-grid",children:[(0,n.jsx)("button",{className:"chip me-3",children:c.category}),(0,n.jsx)("button",{className:"chip me-3",children:0===c.price?"FREE":"".concat(c.price," LST")}),(0,n.jsxs)("button",{className:"chip",children:[c.dataLength," Datapoints"]}),(0,n.jsx)("br",{})]}),(0,n.jsxs)("button",{disabled:T.isSubscribed,className:"btn",onClick:S,children:[T.isSubscribed?"Subscribed":"Subscribe",T.isSubscribed?(0,n.jsx)("i",{className:"fa-solid fa-circle-check fa-white"}):(0,n.jsx)("i",{className:"fa-solid fa-circle-plus"})]}),!T.isSubscribed&&(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"localhost"===window.location.hostname?"http://localhost:7000/api/dataset/data/preview/".concat(d):"/api/dataset/data/preview/".concat(d),className:"btn",children:["Preview Data",(0,n.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]}),T.isSubscribed&&(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"localhost"===window.location.hostname?"http://localhost:7000/api/dataset/data/view/".concat(d,"/").concat(T.subscriptionId):"/api/dataset/data/view/".concat(d,"/").concat(T.subscriptionId),className:"btn",children:["View Data",(0,n.jsx)("i",{className:"fa-solid fa-circle-arrow-right"})]})]}),(0,n.jsxs)(o.Z,{children:[(0,n.jsx)("p",{className:"lead text-center text-white mb-4",children:"Similar Datasets"}),k]})]})}),(0,n.jsx)(p.Z,{condition:c.hasError,children:(0,n.jsx)(u.Z,{})})]}),(0,n.jsx)(p.Z,{condition:!c.isLoaded||!T.isLoaded,children:(0,n.jsx)(l.Z,{})})]})};var N=T},4051:function(e,t,a){"use strict";var n=a(4184),s=a.n(n),r=a(7294),i=a(6792),o=a(5893);let d=r.forwardRef(({bsPrefix:e,className:t,as:a="div",...n},r)=>{let d=(0,i.vE)(e,"row"),c=(0,i.pi)(),l=(0,i.zG)(),u=`${d}-cols`,p=[];return c.forEach(e=>{let t;let a=n[e];delete n[e],null!=a&&"object"==typeof a?{cols:t}=a:t=a;let s=e!==l?`-${e}`:"";null!=t&&p.push(`${u}${s}-${t}`)}),(0,o.jsx)(a,{ref:r,...n,className:s()(t,d,...p)})});d.displayName="Row",t.Z=d}},function(e){e.O(0,[543,774,888,179],function(){return e(e.s=2889)}),_N_E=e.O()}]);